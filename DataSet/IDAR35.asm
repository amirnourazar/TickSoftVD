

;
; ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
; º	This file is generated by The Interactive Disassembler (IDA)	    º
; º	Copyright (c) 2003 by DataRescue sa/nv,	<ida@datarescue.com>	    º
; º Licensed to: Mark Stamp, San Jose State University,	1 user,	academic, 11/2003 º
; ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼
;
; File Name   :	C:\Documents and Settings\Fiona\My Documents\CS	298_Metamorphic	virus\HMM\Cygwin\pamcut.exe
; Format      :	Portable executable for	IBM PC (PE)
; Imagebase   :	400000
; Section 1. (virtual address 00001000)
; Virtual size			: 00001428 (   5160.)
; Section size in file		: 00001600 (   5632.)
; Offset to raw	data for section: 00000400
; Flags	60000020: Text Executable Readable
; Alignment	: 16 bytes ?


unicode		macro page,string,zero
		irpc c,<string>
		db '&c', page
		endm
		ifnb <zero>
		dw zero
		endif
endm

		model flat

; ÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 401000h
		assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

		public start
start		proc near

var_8		= dword	ptr -8
var_2		= word ptr -2

		push	ebp
		mov	ebp, esp
		sub	esp, 8
		and	esp, 0FFFFFFF0h
		mov	eax, ds:dword_404000
		test	eax, eax
		jz	short loc_401013
		int	3		; Trap to Debugger

loc_401013:				; CODE XREF: start+10j
		fnstcw	[ebp+var_2]
		movzx	eax, [ebp+var_2]
		and	eax, 0FFFFF0C0h
		mov	[ebp+var_2], ax
		movzx	eax, [ebp+var_2]
		or	eax, 33Fh
		mov	[ebp+var_2], ax
		fldcw	[ebp+var_2]
		mov	[esp+8+var_8], offset sub_401050
		call	sub_402040
		leave
		retn
start		endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_401050	proc near		; DATA XREF: start+33o

var_338		= dword	ptr -338h
var_334		= dword	ptr -334h
var_330		= dword	ptr -330h
var_32C		= dword	ptr -32Ch
var_328		= dword	ptr -328h
var_324		= dword	ptr -324h
var_30C		= dword	ptr -30Ch
var_308		= dword	ptr -308h
var_304		= dword	ptr -304h
var_300		= dword	ptr -300h
var_2FC		= dword	ptr -2FCh
var_2F8		= dword	ptr -2F8h
var_2F4		= dword	ptr -2F4h
var_2F0		= dword	ptr -2F0h
var_2EC		= dword	ptr -2ECh
var_2E8		= dword	ptr -2E8h
var_2E4		= dword	ptr -2E4h
var_2E0		= dword	ptr -2E0h
var_2DC		= dword	ptr -2DCh
var_2D8		= dword	ptr -2D8h
var_2D4		= dword	ptr -2D4h
var_2D0		= dword	ptr -2D0h
var_2CC		= dword	ptr -2CCh
var_2C8		= dword	ptr -2C8h
var_2C4		= dword	ptr -2C4h
var_2C0		= dword	ptr -2C0h
var_2BC		= dword	ptr -2BCh
var_2B8		= dword	ptr -2B8h
var_2B4		= dword	ptr -2B4h
var_2B0		= dword	ptr -2B0h
var_2AC		= dword	ptr -2ACh
var_2A8		= dword	ptr -2A8h
var_2A0		= dword	ptr -2A0h
var_294		= dword	ptr -294h
var_290		= dword	ptr -290h
var_178		= dword	ptr -178h
var_170		= dword	ptr -170h
var_164		= dword	ptr -164h
var_160		= dword	ptr -160h
var_48		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	eax, 10h
		mov	ebp, esp
		push	edi
		push	esi
		push	ebx
		sub	esp, 32Ch
		xor	ebx, ebx
		mov	edi, [ebp+arg_4]
		and	esp, 0FFFFFFF0h
		call	sub_402010
		call	__main
		mov	[esp+338h+var_334], edi
		lea	edx, [ebp+arg_0]
		mov	[esp+338h+var_338], edx
		call	pnm_init
		mov	[esp+338h+var_338], 960h
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_2AC], eax
		call	malloc
		test	eax, eax
		mov	edx, eax
		jz	loc_4018F6
		mov	dword ptr [eax+10h], 0
		lea	esi, [ebp+var_44]
		and	ebx, 0FFFFFF00h
		mov	[eax+0Ch], esi
		lea	ecx, [ebp+var_40]
		mov	bh, 1
		mov	[eax+24h], ecx
		lea	esi, [ebp+var_38]
		lea	ecx, [ebp+var_34]
		mov	byte ptr [eax],	0
		mov	dword ptr [eax+4], offset aLeft	; "left"
		mov	dword ptr [eax+14h], 0
		mov	dword ptr [eax+28h], 0
		mov	byte ptr [eax+18h], 0
		mov	dword ptr [eax+1Ch], offset aRight ; "right"
		mov	dword ptr [eax+2Ch], 0
		mov	dword ptr [eax+40h], 0
		mov	byte ptr [eax+30h], 0
		mov	dword ptr [eax+34h], offset aTop ; "top"
		mov	dword ptr [eax+8], 3
		mov	dword ptr [eax+20h], 3
		mov	dword ptr [eax+38h], 3
		lea	eax, [ebp+var_3C]
		mov	[edx+3Ch], eax
		xor	eax, eax
		mov	[edx+54h], esi
		mov	esi, 3
		mov	[edx+6Ch], ecx
		lea	ecx, [ebp+var_30]
		mov	[edx+88h], eax
		xor	eax, eax
		mov	dword ptr [edx+44h], 0
		mov	dword ptr [edx+58h], 0
		mov	byte ptr [edx+48h], 0
		mov	dword ptr [edx+4Ch], offset aBottom ; "bottom"
		mov	dword ptr [edx+50h], 3
		mov	dword ptr [edx+5Ch], 0
		mov	dword ptr [edx+70h], 0
		mov	byte ptr [edx+60h], 0
		mov	dword ptr [edx+64h], offset aWidth ; "width"
		mov	dword ptr [edx+68h], 3
		mov	dword ptr [edx+74h], 0
		mov	byte ptr [edx+78h], 0
		mov	dword ptr [edx+7Ch], offset aHeight ; "height"
		mov	[edx+80h], esi
		lea	esi, [ebp+var_2C]
		mov	[edx+84h], ecx
		mov	ecx, offset aPad ; "pad"
		mov	[edx+8Ch], eax
		mov	eax, 1
		mov	[edx+0A0h], esi
		xor	esi, esi
		mov	[edx+94h], ecx
		xor	ecx, ecx
		mov	[edx+0A4h], ecx
		mov	ecx, 1
		mov	[edx+98h], eax
		lea	eax, [ebp+var_28]
		mov	[edx+9Ch], esi
		mov	esi, offset aVerbose ; "verbose"
		mov	[edx+0B8h], eax
		xor	eax, eax
		mov	[edx+0ACh], esi
		xor	esi, esi
		mov	[edx+0B0h], ecx
		xor	ecx, ecx
		mov	[edx+0BCh], esi
		mov	esi, edx
		mov	byte ptr [edx+90h], 0
		mov	byte ptr [edx+0A8h], 0
		mov	[edx+0B4h], eax
		xor	eax, eax
		mov	[edx+0C8h], ecx
		mov	edx, 8
		mov	[esp+338h+var_330], ebx
		lea	ebx, [ebp+var_2AC]
		mov	[ebp+var_44], 7FFFFFFFh
		mov	[ebp+var_40], 7FFFFFFFh
		mov	[ebp+var_3C], 7FFFFFFFh
		mov	[ebp+var_38], 7FFFFFFFh
		mov	[ebp+var_34], 7FFFFFFFh
		mov	[ebp+var_30], 7FFFFFFFh
		mov	[esp+338h+var_324], eax
		mov	[esp+338h+var_328], edx
		mov	[esp+338h+var_32C], esi
		mov	[esp+338h+var_334], edi
		mov	[esp+338h+var_338], ebx
		call	optParseOptions3
		mov	ecx, [ebp+var_34]
		test	ecx, ecx
		js	loc_401F22
		mov	ebx, [ebp+var_30]
		test	ebx, ebx
		js	loc_401F39

loc_401274:				; CODE XREF: sub_401050+EE3j
					; sub_401050+EF5j
		mov	ecx, [ebp+var_2AC]
		lea	esi, [ecx-1]
		cmp	esi, 1
		setnbe	dl
		xor	eax, eax
		cmp	ecx, 5
		setnz	al
		test	edx, eax
		jnz	loc_401900

loc_401293:				; CODE XREF: sub_401050+8B3j
		lea	eax, [ecx-1]
		cmp	eax, 1
		jz	loc_401927

loc_40129F:				; CODE XREF: sub_401050+8D1j
		jle	loc_401DA2
		lea	ebx, [ecx-5]
		cmp	ebx, 1
		ja	loc_4013B0
		lea	eax, [ebp+var_44]
		mov	edx, offset aD	; "%d"
		mov	[esp+338h+var_330], eax
		mov	[esp+338h+var_334], edx
		mov	ecx, [edi+4]
		mov	[esp+338h+var_338], ecx
		call	sscanf
		dec	eax
		jz	short loc_4012DB
		mov	[esp+338h+var_338], offset aInvalidNumberF ; "Invalid number for left column argument"...
		call	pm_error

loc_4012DB:				; CODE XREF: sub_401050+27Dj
		lea	ecx, [ebp+var_3C]
		mov	ebx, offset aD	; "%d"
		mov	[esp+338h+var_330], ecx
		mov	[esp+338h+var_334], ebx
		mov	esi, [edi+8]
		mov	[esp+338h+var_338], esi
		call	sscanf
		dec	eax
		jz	short loc_401305
		mov	[esp+338h+var_338], offset aInvalidNumbe_0 ; "Invalid number for right column argumen"...
		call	pm_error

loc_401305:				; CODE XREF: sub_401050+2A7j
		mov	eax, offset aD	; "%d"
		lea	esi, [ebp+var_2B0]
		mov	[esp+338h+var_330], esi
		mov	[esp+338h+var_334], eax
		mov	edx, [edi+0Ch]
		mov	[esp+338h+var_338], edx
		call	sscanf
		dec	eax
		jz	short loc_401332
		mov	[esp+338h+var_338], offset aInvalidNumbe_1 ; "Invalid number for width argument"
		call	pm_error

loc_401332:				; CODE XREF: sub_401050+2D4j
		lea	edx, [ebp+var_2B4]
		mov	ecx, offset aD	; "%d"
		mov	[esp+338h+var_330], edx
		mov	[esp+338h+var_334], ecx
		mov	ebx, [edi+10h]
		mov	[esp+338h+var_338], ebx
		call	sscanf
		dec	eax
		jz	short loc_40135F
		mov	[esp+338h+var_338], offset aInvalidNumbe_2 ; "Invalid number for height	argument"
		call	pm_error

loc_40135F:				; CODE XREF: sub_401050+301j
		mov	eax, [ebp+var_2B0]
		test	eax, eax
		jle	loc_401F66
		mov	[ebp+var_34], eax
		mov	[ebp+var_40], 7FFFFFFFh

loc_401377:				; CODE XREF: sub_401050+F21j
		mov	eax, [ebp+var_2B4]
		test	eax, eax
		jle	loc_401F56
		mov	[ebp+var_30], eax
		mov	[ebp+var_38], 7FFFFFFFh

loc_40138F:				; CODE XREF: sub_401050+F11j
		cmp	[ebp+var_2AC], 5
		jz	loc_401DAA
		mov	eax, [edi+14h]
		mov	[ebp+var_48], eax
		lea	esi, [esi+0]
		lea	edi, [edi+0]

loc_4013B0:				; CODE XREF: sub_401050+25Bj
					; sub_401050+8DDj ...
		mov	esi, [ebp+var_48]
		mov	[esp+338h+var_338], esi
		call	pm_openr
		mov	[esp+338h+var_338], eax
		mov	edx, 128h
		lea	ecx, [ebp+var_178]
		mov	[esp+338h+var_330], edx
		mov	[esp+338h+var_334], ecx
		call	pnm_readpaminit
		mov	eax, [ebp+var_160]
		mov	edi, [ebp+var_164]
		mov	esi, [ebp+var_30]
		mov	[ebp+var_2D8], eax
		mov	eax, [ebp+var_44]
		mov	ebx, [ebp+var_34]
		mov	[ebp+var_2DC], edi
		mov	edx, [ebp+var_40]
		test	eax, eax
		mov	[ebp+var_2E4], esi
		mov	ecx, [ebp+var_3C]
		mov	esi, eax
		mov	[ebp+var_2E0], ebx
		mov	edi, [ebp+var_38]
		js	loc_401D7E

loc_401416:				; CODE XREF: sub_401050+D36j
		test	edx, edx
		mov	ebx, edx
		js	loc_401D71

loc_401420:				; CODE XREF: sub_401050+D29j
		mov	[ebp+var_2E8], ecx
		test	ecx, ecx
		js	loc_401D5E

loc_40142E:				; CODE XREF: sub_401050+D1Cj
		mov	[ebp+var_2EC], edi
		test	edi, edi
		js	loc_401D4B

loc_40143C:				; CODE XREF: sub_401050+D09j
		cmp	esi, 7FFFFFFFh
		setz	al
		xor	edx, edx
		cmp	ebx, 7FFFFFFFh
		setz	dl
		test	eax, edx
		jz	short loc_401464
		cmp	[ebp+var_2E0], 7FFFFFFFh
		jz	loc_401E89

loc_401464:				; CODE XREF: sub_401050+402j
					; sub_401050+E4Ej
		cmp	esi, 7FFFFFFFh
		setz	al
		xor	edx, edx
		cmp	ebx, 7FFFFFFFh
		setz	dl
		test	eax, edx
		jz	short loc_40149D
		cmp	[ebp+var_2E0], 7FFFFFFFh
		jz	short loc_40149D
		mov	edi, [ebp+var_2E0]
		xor	ecx, ecx
		mov	[ebp+var_2B8], ecx
		dec	edi
		mov	[ebp+var_2BC], edi

loc_40149D:				; CODE XREF: sub_401050+42Aj
					; sub_401050+436j
		cmp	esi, 7FFFFFFFh
		setz	al
		xor	edx, edx
		cmp	ebx, 7FFFFFFFh
		setnz	dl
		test	eax, edx
		jz	short loc_4014C5
		cmp	[ebp+var_2E0], 7FFFFFFFh
		jz	loc_401E76

loc_4014C5:				; CODE XREF: sub_401050+463j
					; sub_401050+E34j
		cmp	esi, 7FFFFFFFh
		setz	cl
		xor	eax, eax
		cmp	ebx, 7FFFFFFFh
		setnz	al
		test	ecx, eax
		jz	short loc_401500
		cmp	[ebp+var_2E0], 7FFFFFFFh
		jz	short loc_401500
		mov	[ebp+var_2BC], ebx
		mov	edi, [ebp+var_2E0]
		mov	edx, ebx
		sub	edx, edi
		inc	edx
		mov	[ebp+var_2B8], edx

loc_401500:				; CODE XREF: sub_401050+48Bj
					; sub_401050+497j
		cmp	esi, 7FFFFFFFh
		setnz	cl
		xor	eax, eax
		cmp	ebx, 7FFFFFFFh
		setz	al
		test	ecx, eax
		jz	short loc_401528
		cmp	[ebp+var_2E0], 7FFFFFFFh
		jz	loc_401E5E

loc_401528:				; CODE XREF: sub_401050+4C6j
					; sub_401050+E21j
		cmp	esi, 7FFFFFFFh
		setnz	cl
		xor	eax, eax
		cmp	ebx, 7FFFFFFFh
		setz	al
		test	ecx, eax
		jz	short loc_401562
		cmp	[ebp+var_2E0], 7FFFFFFFh
		jz	short loc_401562
		mov	[ebp+var_2B8], esi
		mov	edx, [ebp+var_2E0]
		lea	edi, [esi+edx-1]
		mov	[ebp+var_2BC], edi

loc_401562:				; CODE XREF: sub_401050+4EEj
					; sub_401050+4FAj
		cmp	esi, 7FFFFFFFh
		setnz	cl
		xor	eax, eax
		cmp	ebx, 7FFFFFFFh
		setnz	al
		test	ecx, eax
		jz	short loc_40158A
		cmp	[ebp+var_2E0], 7FFFFFFFh
		jz	loc_401F11

loc_40158A:				; CODE XREF: sub_401050+528j
					; sub_401050+ECDj
		cmp	esi, 7FFFFFFFh
		setnz	cl
		xor	edx, edx
		cmp	ebx, 7FFFFFFFh
		setnz	dl
		test	ecx, edx
		jz	short loc_4015C0
		cmp	[ebp+var_2E0], 7FFFFFFFh
		jz	short loc_4015C0
		mov	[esp+338h+var_338], offset aYouMayNotSpeci ; "You may not specify left,	right, and wi"...
		call	pm_error
		lea	esi, [esi+0]

loc_4015C0:				; CODE XREF: sub_401050+550j
					; sub_401050+55Cj
		cmp	[ebp+var_2E8], 7FFFFFFFh
		setz	bl
		xor	eax, eax
		cmp	[ebp+var_2EC], 7FFFFFFFh
		setz	al
		test	ebx, eax
		jz	short loc_4015F0
		cmp	[ebp+var_2E4], 7FFFFFFFh
		jz	loc_401EF7

loc_4015F0:				; CODE XREF: sub_401050+58Ej
					; sub_401050+EBCj
		cmp	[ebp+var_2E8], 7FFFFFFFh
		setz	cl
		xor	edx, edx
		cmp	[ebp+var_2EC], 7FFFFFFFh
		setz	dl
		test	ecx, edx
		jz	short loc_401631
		cmp	[ebp+var_2E4], 7FFFFFFFh
		jz	short loc_401631
		mov	ebx, [ebp+var_2E4]
		xor	eax, eax
		mov	[ebp+var_2C0], eax
		dec	ebx
		mov	[ebp+var_2C4], ebx

loc_401631:				; CODE XREF: sub_401050+5BEj
					; sub_401050+5CAj
		cmp	[ebp+var_2E8], 7FFFFFFFh
		setz	cl
		xor	edx, edx
		cmp	[ebp+var_2EC], 7FFFFFFFh
		setnz	dl
		test	ecx, edx
		jz	short loc_401661
		cmp	[ebp+var_2E4], 7FFFFFFFh
		jz	loc_401EDE

loc_401661:				; CODE XREF: sub_401050+5FFj
					; sub_401050+EA2j
		cmp	[ebp+var_2E8], 7FFFFFFFh
		setz	bl
		xor	eax, eax
		cmp	[ebp+var_2EC], 7FFFFFFFh
		setnz	al
		test	ebx, eax
		jz	short loc_4016AE
		cmp	[ebp+var_2E4], 7FFFFFFFh
		jz	short loc_4016AE
		mov	esi, [ebp+var_2EC]
		mov	edx, [ebp+var_2E4]
		mov	ecx, [ebp+var_2EC]
		sub	esi, edx
		inc	esi
		mov	[ebp+var_2C0], esi
		mov	[ebp+var_2C4], ecx

loc_4016AE:				; CODE XREF: sub_401050+62Fj
					; sub_401050+63Bj
		cmp	[ebp+var_2E8], 7FFFFFFFh
		setnz	bl
		xor	eax, eax
		cmp	[ebp+var_2EC], 7FFFFFFFh
		setz	al
		test	ebx, eax
		jz	short loc_4016DE
		cmp	[ebp+var_2E4], 7FFFFFFFh
		jz	loc_401EC0

loc_4016DE:				; CODE XREF: sub_401050+67Cj
					; sub_401050+E89j
		cmp	[ebp+var_2E8], 7FFFFFFFh
		setnz	bl
		xor	edx, edx
		cmp	[ebp+var_2EC], 7FFFFFFFh
		setz	dl
		test	ebx, edx
		jz	short loc_401726
		cmp	[ebp+var_2E4], 7FFFFFFFh
		jz	short loc_401726
		mov	ecx, [ebp+var_2E8]
		mov	eax, [ebp+var_2E4]
		mov	[ebp+var_2C0], ecx
		lea	esi, [ecx+eax-1]
		mov	[ebp+var_2C4], esi

loc_401726:				; CODE XREF: sub_401050+6ACj
					; sub_401050+6B8j
		cmp	[ebp+var_2E8], 7FFFFFFFh
		setnz	bl
		xor	edx, edx
		cmp	[ebp+var_2EC], 7FFFFFFFh
		setnz	dl
		test	ebx, edx
		jz	short loc_401756
		cmp	[ebp+var_2E4], 7FFFFFFFh
		jz	loc_401EA3

loc_401756:				; CODE XREF: sub_401050+6F4j
					; sub_401050+E6Bj
		cmp	[ebp+var_2E8], 7FFFFFFFh
		setnz	cl
		xor	ebx, ebx
		cmp	[ebp+var_2EC], 7FFFFFFFh
		setnz	bl
		test	ecx, ebx
		jz	short loc_401790
		cmp	[ebp+var_2E4], 7FFFFFFFh
		jz	short loc_401790
		mov	[esp+338h+var_338], offset aYouMayNotSpe_0 ; "You may not specify top, bottom, and he"...
		call	pm_error
		mov	esi, esi

loc_401790:				; CODE XREF: sub_401050+724j
					; sub_401050+730j
		mov	edi, [ebp+var_2C]
		test	edi, edi
		jnz	loc_401847
		mov	edi, [ebp+var_2B8]
		mov	esi, [ebp+var_164]
		mov	eax, [ebp+var_2C0]
		mov	edx, [ebp+var_2C4]
		test	edi, edi
		mov	ebx, [ebp+var_160]
		mov	[ebp+var_2F0], esi
		mov	esi, [ebp+var_2BC]
		mov	[ebp+var_2F4], eax
		mov	[ebp+var_2F8], edx
		js	loc_401FA6

loc_4017D9:				; CODE XREF: sub_401050+F66j
		dec	ebx
		cmp	ebx, edi
		jl	loc_401E45

loc_4017E2:				; CODE XREF: sub_401050+E09j
		test	esi, esi
		js	loc_401F91

loc_4017EA:				; CODE XREF: sub_401050+F51j
		cmp	ebx, esi
		jl	loc_401E2C

loc_4017F2:				; CODE XREF: sub_401050+DF0j
		cmp	edi, esi
		jg	loc_401E13

loc_4017FA:				; CODE XREF: sub_401050+DD7j
		mov	ecx, [ebp+var_2F4]
		test	ecx, ecx
		js	loc_401F76

loc_401808:				; CODE XREF: sub_401050+F3Cj
		mov	ebx, [ebp+var_2F0]
		dec	ebx
		cmp	ebx, [ebp+var_2F4]
		jl	loc_401DF4

loc_40181B:				; CODE XREF: sub_401050+DBEj
		mov	edx, [ebp+var_2F8]
		test	edx, edx
		js	loc_401FBB

loc_401829:				; CODE XREF: sub_401050+F81j
		cmp	ebx, [ebp+var_2F8]
		jl	loc_401DD5

loc_401835:				; CODE XREF: sub_401050+D9Fj
		mov	ecx, [ebp+var_2F8]
		cmp	[ebp+var_2F4], ecx
		jg	loc_401DB6

loc_401847:				; CODE XREF: sub_401050+745j
					; sub_401050+D80j
		mov	ebx, [ebp+var_28]
		test	ebx, ebx
		jnz	loc_401CF0

loc_401852:				; CODE XREF: sub_401050+CF6j
		mov	edx, 12Ch
		lea	eax, [ebp+var_178]
		lea	edi, [ebp+var_2A8]
		mov	[esp+338h+var_330], edx
		mov	[esp+338h+var_338], edi
		lea	edi, [ebp+var_2A8]
		mov	[esp+338h+var_334], eax
		call	memcpy
		call	__getreent
		mov	ebx, [eax+8]
		mov	[esp+338h+var_338], edi
		mov	esi, [ebp+var_2BC]
		mov	ecx, [ebp+var_2B8]
		mov	[ebp+var_2A0], ebx
		mov	eax, [ebp+var_2C4]
		mov	edx, [ebp+var_2C0]
		sub	esi, ecx
		inc	esi
		sub	eax, edx
		mov	[ebp+var_290], esi
		inc	eax
		mov	[ebp+var_294], eax
		call	pnm_writepaminit
		mov	esi, [ebp+var_2C0]
		neg	esi
		test	esi, esi
		jle	loc_40198B
		lea	ecx, [ebp+var_2A8]
		lea	ebx, [ebp+var_2C8]
		mov	[esp+338h+var_334], ebx
		mov	[esp+338h+var_338], ecx
		call	pnm_createBlackTuple
		mov	eax, [ebp+var_290]
		test	eax, eax
		jz	short loc_401932
		cmp	eax, 3FFFFFFFh
		jbe	loc_401D8B

loc_4018F6:				; CODE XREF: sub_401050+4Bj
					; sub_401050+8F2j ...
		call	abort
		nop
		lea	esi, [esi+0]

loc_401900:				; CODE XREF: sub_401050+23Dj
		cmp	ecx, 6
		jz	loc_401293
		mov	[esp+338h+var_338], offset aWrongNumberOfA ; "Wrong number of arguments.  Must be 0, "...
		call	pm_error
		mov	ecx, [ebp+var_2AC]
		lea	eax, [ecx-1]
		cmp	eax, 1
		jnz	loc_40129F

loc_401927:				; CODE XREF: sub_401050+249j
		mov	eax, [edi+4]
		mov	[ebp+var_48], eax
		jmp	loc_4013B0
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401932:				; CODE XREF: sub_401050+899j
		mov	[esp+338h+var_338], 1

loc_401939:				; CODE XREF: sub_401050+D41j
		call	malloc
		test	eax, eax
		mov	ebx, eax
		jz	short loc_4018F6
		mov	ecx, [ebp+var_290]
		xor	edx, edx
		cmp	ecx, 0
		jmp	short loc_40195D
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401951:				; CODE XREF: sub_401050+90Dj
		mov	edi, [ebp+var_2C8]
		mov	[ebx+edx*4], edi
		inc	edx
		cmp	ecx, edx

loc_40195D:				; CODE XREF: sub_401050+8FFj
		jg	short loc_401951
		mov	[esp+338h+var_330], esi
		lea	eax, [ebp+var_2A8]
		mov	[esp+338h+var_338], eax
		mov	[esp+338h+var_334], ebx
		call	pnm_writepamrowmult
		mov	[esp+338h+var_338], ebx
		call	free
		mov	esi, [ebp+var_2C8]
		mov	[esp+338h+var_338], esi
		call	pm_freerow

loc_40198B:				; CODE XREF: sub_401050+873j
		lea	eax, [ebp+var_2A8]
		mov	edi, [ebp+var_2B8]
		mov	ebx, [ebp+var_2BC]
		mov	[esp+338h+var_338], eax
		lea	esi, [ebp+var_178]
		call	pnm_allocpamrow
		mov	[ebp+var_2FC], eax
		mov	[esp+338h+var_338], esi
		call	pnm_allocpamtuple
		mov	[ebp+var_300], eax
		lea	ecx, [ebp+var_2D0]
		lea	edx, [ebp+var_2A8]
		mov	[esp+338h+var_334], ecx
		mov	[esp+338h+var_338], edx
		call	pnm_createBlackTuple
		mov	eax, [ebp+var_160]
		test	eax, eax
		jz	loc_401D96
		cmp	eax, 3FFFFFFFh
		ja	loc_4018F6
		shl	eax, 2
		mov	[esp+338h+var_338], eax

loc_4019F6:				; CODE XREF: sub_401050+D4Dj
		call	malloc
		mov	[ebp+var_304], eax
		mov	edx, [ebp+var_304]
		test	edx, edx
		jz	loc_4018F6
		mov	eax, [ebp+var_290]
		test	eax, eax
		jz	loc_401F4A
		cmp	eax, 3FFFFFFFh
		ja	loc_4018F6
		shl	eax, 2
		mov	[esp+338h+var_338], eax

loc_401A2E:				; CODE XREF: sub_401050+F01j
		call	malloc
		mov	[ebp+var_308], eax
		mov	ecx, [ebp+var_308]
		test	ecx, ecx
		jz	loc_4018F6
		test	edi, edi
		mov	ecx, edi
		js	loc_401FD6

loc_401A51:				; CODE XREF: sub_401050+FA2j
					; sub_401050+FAAj
		mov	eax, [ebp+var_160]
		mov	[ebp+var_30C], eax
		jmp	short loc_401A80
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 4

loc_401A60:				; CODE XREF: sub_401050+A3Fj
		mov	esi, [ebp+var_2FC]
		mov	eax, ecx
		sub	eax, edi
		mov	edx, [esi+eax*4]
		mov	esi, [ebp+var_308]
		mov	[esi+eax*4], edx
		mov	esi, [ebp+var_304]
		mov	[esi+ecx*4], edx
		inc	ecx

loc_401A80:				; CODE XREF: sub_401050+A0Dj
		mov	eax, [ebp+var_30C]
		dec	eax
		cmp	eax, ebx
		jle	short loc_401A8D
		mov	eax, ebx

loc_401A8D:				; CODE XREF: sub_401050+A39j
		cmp	eax, ecx
		jge	short loc_401A60
		mov	eax, [ebp+var_30C]
		dec	eax
		cmp	eax, ebx
		jle	short loc_401A9E
		mov	eax, ebx

loc_401A9E:				; CODE XREF: sub_401050+A4Aj
		lea	ecx, [eax+1]
		cmp	ecx, ebx
		jg	short loc_401AD0
		mov	esi, [ebp+var_308]
		mov	eax, ecx
		sub	eax, edi
		lea	edx, [esi+eax*4]
		lea	esi, [esi+0]
		lea	edi, [edi+0]

loc_401AC0:				; CODE XREF: sub_401050+A7Ej
		mov	esi, [ebp+var_2D0]
		inc	ecx
		mov	[edx], esi
		add	edx, 4
		cmp	ecx, ebx
		jle	short loc_401AC0

loc_401AD0:				; CODE XREF: sub_401050+A53j
		xor	eax, eax
		jmp	short loc_401AE4
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401AD4:				; CODE XREF: sub_401050+A96j
		mov	ecx, [ebp+var_300]
		mov	edx, [ebp+var_304]
		mov	[edx+eax*4], ecx
		inc	eax

loc_401AE4:				; CODE XREF: sub_401050+A82j
		cmp	eax, edi
		jl	short loc_401AD4
		lea	eax, [ebx+1]
		jmp	short loc_401B00
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 4

loc_401AF0:				; CODE XREF: sub_401050+AB6j
		mov	edi, [ebp+var_300]
		mov	ebx, [ebp+var_304]
		mov	[ebx+eax*4], edi
		inc	eax

loc_401B00:				; CODE XREF: sub_401050+A9Bj
		cmp	[ebp+var_30C], eax
		jg	short loc_401AF0
		mov	[esp+338h+var_338], 1Ch
		call	malloc
		test	eax, eax
		mov	edx, eax
		jz	loc_4018F6
		mov	[ebp+var_2CC], edx
		mov	ecx, [ebp+var_160]
		mov	ebx, [ebp+var_2FC]
		mov	edi, [ebp+var_308]
		mov	[eax+8], ecx
		mov	esi, [ebp+var_290]
		mov	[edx+10h], ebx
		mov	ecx, [ebp+var_300]
		xor	ebx, ebx
		mov	[edx+4], edi
		mov	[eax+0Ch], esi
		mov	eax, [ebp+var_304]
		mov	[edx+18h], ecx
		mov	esi, [ebp+var_2D0]
		mov	[edx], eax
		mov	eax, [ebp+var_164]
		mov	[edx+14h], esi
		test	eax, eax
		jg	short loc_401B8D
		jmp	short loc_401BDB
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401B70:				; CODE XREF: sub_401050+B43j
					; sub_401050+B4Bj
		xor	eax, eax
		lea	edi, [ebp+var_178]
		inc	ebx
		mov	[esp+338h+var_334], eax
		mov	[esp+338h+var_338], edi
		call	pnm_readpamrow
		cmp	[ebp+var_164], ebx
		jle	short loc_401BDB

loc_401B8D:				; CODE XREF: sub_401050+B1Cj
					; sub_401050+B89j
		cmp	ebx, [ebp+var_2C0]
		jl	short loc_401B70
		cmp	ebx, [ebp+var_2C4]
		jg	short loc_401B70
		mov	edx, [ebp+var_2CC]
		lea	esi, [ebp+var_178]
		inc	ebx
		mov	ecx, [edx]
		mov	[esp+338h+var_338], esi
		mov	[esp+338h+var_334], ecx
		call	pnm_readpamrow
		mov	eax, [ebp+var_2CC]
		lea	edx, [ebp+var_2A8]
		mov	edi, [eax+4]
		mov	[esp+338h+var_338], edx
		mov	[esp+338h+var_334], edi
		call	pnm_writepamrow
		cmp	[ebp+var_164], ebx
		jg	short loc_401B8D

loc_401BDB:				; CODE XREF: sub_401050+B1Ej
					; sub_401050+B3Bj
		mov	edi, [ebp+var_2CC]
		mov	esi, [edi+10h]
		mov	[esp+338h+var_338], esi
		call	pm_freerow
		mov	ebx, [edi+14h]
		mov	[esp+338h+var_338], ebx
		call	pm_freerow
		mov	eax, [edi+18h]
		mov	[esp+338h+var_338], eax
		call	pm_freerow
		mov	edx, [edi]
		mov	[esp+338h+var_338], edx
		call	free
		mov	ecx, [edi+4]
		mov	[esp+338h+var_338], ecx
		call	free
		mov	[esp+338h+var_338], edi
		call	free
		mov	esi, [ebp+var_164]
		mov	ebx, [ebp+var_2C4]
		sub	ebx, esi
		lea	esi, [ebx+1]
		test	esi, esi
		jle	loc_401CCA
		lea	ecx, [ebp+var_2D4]
		lea	edi, [ebp+var_2A8]
		mov	[esp+338h+var_334], ecx
		mov	[esp+338h+var_338], edi
		call	pnm_createBlackTuple
		mov	eax, [ebp+var_290]
		test	eax, eax
		jz	loc_401FFF
		cmp	eax, 3FFFFFFFh
		ja	loc_4018F6
		shl	eax, 2
		mov	[esp+338h+var_338], eax

loc_401C6F:				; CODE XREF: sub_401050+FB6j
		call	malloc
		test	eax, eax
		mov	ebx, eax
		jz	loc_4018F6
		mov	ecx, [ebp+var_290]
		xor	edx, edx
		cmp	ecx, 0
		jmp	short loc_401C9C
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 8

loc_401C90:				; CODE XREF: sub_401050+C4Cj
		mov	eax, [ebp+var_2D4]
		mov	[ebx+edx*4], eax
		inc	edx
		cmp	ecx, edx

loc_401C9C:				; CODE XREF: sub_401050+C39j
		jg	short loc_401C90
		mov	[esp+338h+var_330], esi
		lea	esi, [ebp+var_2A8]
		mov	[esp+338h+var_334], ebx
		mov	[esp+338h+var_338], esi
		call	pnm_writepamrowmult
		mov	[esp+338h+var_338], ebx
		call	free
		mov	edx, [ebp+var_2D4]
		mov	[esp+338h+var_338], edx
		call	pm_freerow

loc_401CCA:				; CODE XREF: sub_401050+BE2j
		mov	edi, [ebp+var_170]
		mov	[esp+338h+var_338], edi
		call	pm_close
		mov	ebx, [ebp+var_2A0]
		mov	[esp+338h+var_338], ebx
		call	pm_close
		lea	esp, [ebp+var_C]
		xor	eax, eax
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401CF0:				; CODE XREF: sub_401050+7FCj
		mov	[esp+338h+var_338], offset aImageGoesFromR ; "Image goes from Row 0, Column 0 through"...
		mov	ebx, [ebp+var_160]
		mov	ecx, [ebp+var_164]
		dec	ebx
		dec	ecx
		mov	[esp+338h+var_330], ebx
		mov	[esp+338h+var_334], ecx
		call	pm_message
		mov	[esp+338h+var_338], offset aCuttingFromRow ; "Cutting from Row %d, Column %d through "...
		mov	esi, [ebp+var_2BC]
		mov	eax, [ebp+var_2C4]
		mov	edx, [ebp+var_2B8]
		mov	edi, [ebp+var_2C0]
		mov	[esp+338h+var_328], esi
		mov	[esp+338h+var_32C], eax
		mov	[esp+338h+var_330], edx
		mov	[esp+338h+var_334], edi
		call	pm_message
		jmp	loc_401852
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401D4B:				; CODE XREF: sub_401050+3E6j
		mov	ecx, [ebp+var_2DC]
		add	edi, ecx
		mov	[ebp+var_2EC], edi
		jmp	loc_40143C
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401D5E:				; CODE XREF: sub_401050+3D8j
		mov	eax, [ebp+var_2DC]
		add	ecx, eax
		mov	[ebp+var_2E8], ecx
		jmp	loc_40142E
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401D71:				; CODE XREF: sub_401050+3CAj
		mov	ebx, [ebp+var_2D8]
		add	ebx, edx
		jmp	loc_401420
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401D7E:				; CODE XREF: sub_401050+3C0j
		mov	esi, [ebp+var_2D8]
		add	esi, eax
		jmp	loc_401416
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401D8B:				; CODE XREF: sub_401050+8A0j
		shl	eax, 2
		mov	[esp+338h+var_338], eax
		jmp	loc_401939
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401D96:				; CODE XREF: sub_401050+98Fj
		mov	[esp+338h+var_338], 1
		jmp	loc_4019F6
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401DA2:				; CODE XREF: sub_401050+24Fj
		test	eax, eax
		jnz	loc_4013B0

loc_401DAA:				; CODE XREF: sub_401050+346j
		mov	[ebp+var_48], offset asc_40321C	; "-"
		jmp	loc_4013B0
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401DB6:				; CODE XREF: sub_401050+7F1j
		mov	[esp+338h+var_330], ecx
		mov	ecx, [ebp+var_2F4]
		mov	[esp+338h+var_338], offset aYouHaveSpecifi ; "You have specified a top edge (%d) that"...
		mov	[esp+338h+var_334], ecx
		call	pm_error
		jmp	loc_401847
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401DD5:				; CODE XREF: sub_401050+7DFj
		mov	[esp+338h+var_330], ebx
		mov	esi, [ebp+var_2F8]
		mov	[esp+338h+var_338], offset aYouHaveSpeci_0 ; "You have specified a bottom edge (%d) t"...
		mov	[esp+338h+var_334], esi
		call	pm_error
		jmp	loc_401835
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401DF4:				; CODE XREF: sub_401050+7C5j
		mov	[esp+338h+var_330], ebx
		mov	edi, [ebp+var_2F4]
		mov	[esp+338h+var_338], offset aYouHaveSpeci_1 ; "You have specified a top edge (%d) that"...
		mov	[esp+338h+var_334], edi
		call	pm_error
		jmp	loc_40181B
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401E13:				; CODE XREF: sub_401050+7A4j
		mov	[esp+338h+var_330], esi
		mov	[esp+338h+var_334], edi
		mov	[esp+338h+var_338], offset aYouHaveSpeci_2 ; "You have specified a left	edge (%d) tha"...
		call	pm_error
		jmp	loc_4017FA
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401E2C:				; CODE XREF: sub_401050+79Cj
		mov	[esp+338h+var_330], ebx
		mov	[esp+338h+var_334], esi
		mov	[esp+338h+var_338], offset aYouHaveSpeci_3 ; "You have specified a right edge (%d) th"...
		call	pm_error
		jmp	loc_4017F2
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401E45:				; CODE XREF: sub_401050+78Cj
		mov	[esp+338h+var_330], ebx
		mov	[esp+338h+var_334], edi
		mov	[esp+338h+var_338], offset aYouHaveSpeci_4 ; "You have specified a left	edge (%d) tha"...
		call	pm_error
		jmp	loc_4017E2
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401E5E:				; CODE XREF: sub_401050+4D2j
		mov	[ebp+var_2B8], esi
		mov	edx, [ebp+var_2D8]
		dec	edx
		mov	[ebp+var_2BC], edx
		jmp	loc_401528
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401E76:				; CODE XREF: sub_401050+46Fj
		mov	[ebp+var_2BC], ebx
		xor	edi, edi
		mov	[ebp+var_2B8], edi
		jmp	loc_4014C5
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401E89:				; CODE XREF: sub_401050+40Ej
		mov	edi, [ebp+var_2D8]
		xor	ecx, ecx
		mov	[ebp+var_2B8], ecx
		dec	edi
		mov	[ebp+var_2BC], edi
		jmp	loc_401464
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401EA3:				; CODE XREF: sub_401050+700j
		mov	eax, [ebp+var_2E8]
		mov	esi, [ebp+var_2EC]
		mov	[ebp+var_2C0], eax
		mov	[ebp+var_2C4], esi
		jmp	loc_401756
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401EC0:				; CODE XREF: sub_401050+688j
		mov	edi, [ebp+var_2DC]
		mov	ecx, [ebp+var_2E8]
		dec	edi
		mov	[ebp+var_2C0], ecx
		mov	[ebp+var_2C4], edi
		jmp	loc_4016DE
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401EDE:				; CODE XREF: sub_401050+60Bj
		mov	esi, [ebp+var_2EC]
		xor	edi, edi
		mov	[ebp+var_2C0], edi
		mov	[ebp+var_2C4], esi
		jmp	loc_401661
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401EF7:				; CODE XREF: sub_401050+59Aj
		mov	esi, [ebp+var_2DC]
		xor	edi, edi
		mov	[ebp+var_2C0], edi
		dec	esi
		mov	[ebp+var_2C4], esi
		jmp	loc_4015F0
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401F11:				; CODE XREF: sub_401050+534j
		mov	[ebp+var_2B8], esi
		mov	[ebp+var_2BC], ebx
		jmp	loc_40158A
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401F22:				; CODE XREF: sub_401050+213j
		mov	[esp+338h+var_338], offset aWidthMayNotBeN ; "-width may not be	negative."
		call	pm_error
		mov	ebx, [ebp+var_30]
		test	ebx, ebx
		jns	loc_401274

loc_401F39:				; CODE XREF: sub_401050+21Ej
		mov	[esp+338h+var_338], offset aHeightMayNotBe ; "-height may not be negative."
		call	pm_error
		jmp	loc_401274
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401F4A:				; CODE XREF: sub_401050+9C7j
		mov	[esp+338h+var_338], 1
		jmp	loc_401A2E
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401F56:				; CODE XREF: sub_401050+32Fj
		mov	[ebp+var_30], 7FFFFFFFh
		dec	eax
		mov	[ebp+var_38], eax
		jmp	loc_40138F
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401F66:				; CODE XREF: sub_401050+317j
		mov	[ebp+var_34], 7FFFFFFFh
		dec	eax
		mov	[ebp+var_40], eax
		jmp	loc_401377
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401F76:				; CODE XREF: sub_401050+7B2j
		mov	[esp+338h+var_338], offset aYouHaveSpeci_5 ; "You have specified a top edge (%d) that"...
		mov	ebx, [ebp+var_2F4]
		mov	[esp+338h+var_334], ebx
		call	pm_error
		jmp	loc_401808
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401F91:				; CODE XREF: sub_401050+794j
		mov	[esp+338h+var_334], esi
		mov	[esp+338h+var_338], offset aYouHaveSpeci_6 ; "You have specified a right edge (%d) th"...
		call	pm_error
		jmp	loc_4017EA
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401FA6:				; CODE XREF: sub_401050+783j
		mov	[esp+338h+var_334], edi
		mov	[esp+338h+var_338], offset aYouHaveSpeci_7 ; "You have specified a left	edge (%d) tha"...
		call	pm_error
		jmp	loc_4017D9
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401FBB:				; CODE XREF: sub_401050+7D3j
		mov	[esp+338h+var_338], offset aYouHaveSpeci_8 ; "You have specified a bottom edge (%d) t"...
		mov	eax, [ebp+var_2F8]
		mov	[esp+338h+var_334], eax
		call	pm_error
		jmp	loc_401829
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401FD6:				; CODE XREF: sub_401050+9FBj
		mov	edx, [ebp+var_308]
		lea	esi, [esi+0]

loc_401FE0:				; CODE XREF: sub_401050+F9Cj
		mov	esi, [ebp+var_2D0]
		mov	[edx], esi
		add	edx, 4
		inc	ecx
		js	short loc_401FE0
		test	edi, edi
		mov	ecx, edi
		jns	loc_401A51
		xor	ecx, ecx
		jmp	loc_401A51
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401FFF:				; CODE XREF: sub_401050+C08j
		mov	[esp+338h+var_338], 1
		jmp	loc_401C6F
sub_401050	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 8

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ


sub_402010	proc near		; CODE XREF: sub_401050+19p
		push	ecx
		mov	ecx, esp
		add	ecx, 8

loc_402016:				; CODE XREF: sub_402010+1Bj
		cmp	eax, 1000h
		jb	short loc_40202D
		sub	ecx, 1000h
		or	dword ptr [ecx], 0
		sub	eax, 1000h
		jmp	short loc_402016
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_40202D:				; CODE XREF: sub_402010+Bj
		sub	ecx, eax
		or	dword ptr [ecx], 0
		mov	eax, esp
		mov	esp, ecx
		mov	ecx, [eax]
		mov	eax, [eax+4]
		jmp	eax
sub_402010	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 4

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_402040	proc near		; CODE XREF: start+3Ap

var_D8		= dword	ptr -0D8h
var_D4		= dword	ptr -0D4h
var_C2		= dword	ptr -0C2h
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		xor	eax, eax
		mov	ebp, esp
		sub	esp, 18h
		mov	[ebp+var_4], esi
		mov	esi, [ebp+arg_0]
		mov	[ebp+var_8], ebx
		mov	[esp+18h+var_14], eax
		mov	[esp+18h+var_18], esi
		call	sub_402110
		sub	esp, 8
		test	eax, eax
		jz	short loc_402071
		mov	[esp+18h+var_18], 0

loc_40206B:				; CODE XREF: sub_402040+56j
		call	ds:dll_crt0__FP11per_process ; dll_crt0(per_process *)

loc_402071:				; CODE XREF: sub_402040+22j
		sub	esp, 0C0h
		lea	ebx, [esp+0D8h+var_C2+1]
		and	ebx, 0FFFFFFF0h
		mov	dword ptr [ebx], 0
		mov	[esp+0D8h+var_D4], ebx
		mov	[esp+0D8h+var_D8], esi
		call	sub_402110
		sub	esp, 8
		mov	[esp+0D8h+var_D8], ebx
		jmp	short loc_40206B
sub_402040	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION __main. PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION memcpy. PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION __getreent. PRESS	KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION free. PRESS KEYPAD "+" TO	EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION sscanf. PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION abort. PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION malloc. PRESS KEYPAD "+" TO EXPAND]
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_402110	proc near		; CODE XREF: sub_402040+18p
					; sub_402040+4Bp

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		xor	eax, eax
		mov	ebp, esp
		push	ebx
		sub	esp, 4		; lpModuleName
		mov	ebx, [ebp+arg_4]
		test	ebx, ebx
		jz	loc_402213

loc_402124:				; CODE XREF: sub_402110+11Fj
		mov	dword ptr [ebx+4], 0A8h
		xor	ecx, ecx
		mov	edx, 84h
		mov	dword ptr [ebx+8], 3EDh
		test	eax, eax
		mov	dword ptr [ebx+0Ch], 12h
		mov	[ebx+80h], ecx
		mov	[ebx+84h], edx
		mov	dword ptr [ebx+2Ch], offset dword_402418
		mov	dword ptr [ebx+30h], offset dword_402420
		mov	dword ptr [ebx+14h], offset unk_404014
		jnz	loc_402201
		mov	eax, ds:_impure_ptr
		mov	[ebx+10h], eax

loc_402171:				; CODE XREF: sub_402110+FEj
		mov	dword ptr [ebx+78h], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [ebx+48h], offset sub_402300
		mov	dword ptr [ebx+4Ch], offset sub_4022F0
		mov	[ebx+28h], eax
		mov	eax, [ebp+0]
		mov	dword ptr [ebx+50h], offset sub_4022E0
		mov	dword ptr [ebx+54h], offset sub_4022D0
		mov	dword ptr [ebx+24h], offset unk_404010
		mov	[ebx], eax
		mov	dword ptr [ebx+18h], offset malloc
		mov	dword ptr [ebx+1Ch], offset free
		mov	dword ptr [ebx+20h], offset loc_4022C0
		mov	dword ptr [ebx+44h], offset loc_4022B0
		mov	[esp+8+var_8], 0
		call	GetModuleHandleA
		mov	[ebx+7Ch], eax
		sub	esp, 4
		mov	dword ptr [ebx+34h], offset aLeft ; "left"
		mov	dword ptr [ebx+38h], offset aLeft ; "left"
		mov	dword ptr [ebx+3Ch], offset dword_404000
		mov	dword ptr [ebx+40h], 404040h
		call	sub_402280
		mov	eax, 1

loc_4021FA:				; CODE XREF: sub_402110+116j
		mov	ebx, [ebp+var_4]
		leave
		retn	8
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_402201:				; CODE XREF: sub_402110+53j
		mov	edx, [ebx+0A4h]
		mov	eax, ds:_impure_ptr
		mov	[eax], edx
		jmp	loc_402171
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_402213:				; CODE XREF: sub_402110+Ej
		mov	[esp+8+var_8], 8
		call	cygwin_internal
		mov	edx, eax
		xor	eax, eax
		cmp	edx, 0FFFFFFFFh
		jz	short loc_4021FA
		mov	ebx, edx
		mov	eax, 1
		jmp	loc_402124
sub_402110	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h
		jmp	ds:dll_crt0__FP11per_process ; dll_crt0(per_process *)
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_402250	proc near		; CODE XREF: sub_402280+1Fp

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		mov	ecx, [ebp+arg_0]
		push	esi
		mov	esi, [ebp+arg_8]
		push	ebx
		mov	ebx, [ebp+arg_4]
		jmp	short loc_40226C
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_402260:				; CODE XREF: sub_402250+1Ej
		mov	edx, [ecx+4]
		mov	eax, [ecx]
		add	ecx, 8
		add	edx, esi
		add	[edx], eax

loc_40226C:				; CODE XREF: sub_402250+Ej
		cmp	ecx, ebx
		jb	short loc_402260
		pop	ebx
		pop	esi
		pop	ebp
		retn
sub_402250	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_402280	proc near		; CODE XREF: sub_402110+E0p

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4

		push	ebp
		mov	edx, 400000h
		mov	ebp, esp
		mov	eax, offset unk_4035C0
		sub	esp, 0Ch
		mov	[esp+0Ch+var_4], edx
		mov	[esp+0Ch+var_8], eax
		mov	[esp+0Ch+var_C], offset	unk_4035C0
		call	sub_402250
		leave
		retn
sub_402280	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

loc_4022B0:				; DATA XREF: sub_402110+ABo
		jmp	ds:calloc
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

loc_4022C0:				; DATA XREF: sub_402110+A4o
		jmp	ds:realloc
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_4022D0	proc near		; DATA XREF: sub_402110+86o
		push	ebp
		mov	ebp, esp
		pop	ebp
		retn
sub_4022D0	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_4022E0	proc near		; DATA XREF: sub_402110+7Fo
		push	ebp
		mov	ebp, esp
		pop	ebp
		retn
sub_4022E0	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_4022F0	proc near		; DATA XREF: sub_402110+72o
		push	ebp
		mov	ebp, esp
		pop	ebp
		retn
sub_4022F0	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_402300	proc near		; DATA XREF: sub_402110+6Bo
		push	ebp
		mov	ebp, esp
		pop	ebp
		retn
sub_402300	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION cygwin_internal. PRESS KEYPAD "+"	TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION GetModuleHandleA.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION optParseOptions3.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pm_close.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pm_error.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pm_freerow. PRESS	KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pm_message. PRESS	KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pm_openr.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_allocpamrow. PRESS KEYPAD "+"	TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_allocpamtuple. PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_createBlackTuple. PRESS KEYPAD "+" TO	EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_init.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_readpaminit. PRESS KEYPAD "+"	TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_readpamrow. PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_writepaminit.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_writepamrow. PRESS KEYPAD "+"	TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_writepamrowmult. PRESS KEYPAD	"+" TO EXPAND]
		align 4
dword_402418	dd 0FFFFFFFFh, 0	; DATA XREF: sub_402110+3Eo
dword_402420	dd 0FFFFFFFFh, 77h dup(0) ; DATA XREF: sub_402110+45o
_text		ends

; Section 2. (virtual address 00003000)
; Virtual size			: 000005C0 (   1472.)
; Section size in file		: 00000600 (   1536.)
; Offset to raw	data for section: 00001A00
; Flags	40000040: Data Readable
; Alignment	: 16 bytes ?
; ÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	para public 'DATA' use32
		assume cs:_rdata
		;org 403000h
aLeft		db 'left',0             ; DATA XREF: sub_401050+75o
					; sub_402110+C4o ...
aRight		db 'right',0            ; DATA XREF: sub_401050+8Eo
aTop		db 'top',0              ; DATA XREF: sub_401050+A7o
aBottom		db 'bottom',0           ; DATA XREF: sub_401050+F3o
aWidth		db 'width',0            ; DATA XREF: sub_401050+113o
aHeight		db 'height',0           ; DATA XREF: sub_401050+12Co
aPad		db 'pad',0              ; DATA XREF: sub_401050+142o
aVerbose	db 'verbose',0          ; DATA XREF: sub_401050+17Co
aD		db '%d',0               ; DATA XREF: sub_401050+264o
					; sub_401050+28Eo ...
		align 4
aInvalidNumberF	db 'Invalid number for left column argument',0 ; DATA XREF: sub_401050+27Fo
aInvalidNumbe_0	db 'Invalid number for right column argument',0 ; DATA XREF: sub_401050+2A9o
		align 4
aInvalidNumbe_1	db 'Invalid number for width argument',0 ; DATA XREF: sub_401050+2D6o
		align 4
aInvalidNumbe_2	db 'Invalid number for height argument',0 ; DATA XREF: sub_401050+303o
		align 4
aYouMayNotSpeci	db 'You may not specify left, right, and width.',0Ah
					; DATA XREF: sub_401050+55Eo
		db 'Choose at most two of these.',0
		align 4
aYouMayNotSpe_0	db 'You may not specify top, bottom, and height.',0Ah
					; DATA XREF: sub_401050+732o
		db 'Choose at most two of these.',0
		align 4
aWrongNumberOfA	db 'Wrong number of arguments.  Must be 0, 1, 4, or 5 arguments.'
					; DATA XREF: sub_401050+8B9o
		db 0
		align 4
aImageGoesFromR	db 'Image goes from Row 0, Column 0 through Row %d, Column %d',0
					; DATA XREF: sub_401050+CA0o
		align 4
aCuttingFromRow	db 'Cutting from Row %d, Column %d through Row %d Column %d',0
					; DATA XREF: sub_401050+CC2o
asc_40321C:				; DATA XREF: sub_401050+D5Ao
		unicode	0, <->,0
aYouHaveSpecifi	db 'You have specified a top edge (%d) that is below',0Ah
					; DATA XREF: sub_401050+D70o
		db 'the bottom edge you specified (%d)',0
aYouHaveSpeci_0	db 'You have specified a bottom edge (%d) that is below the',0Ah
					; DATA XREF: sub_401050+D8Fo
		db 'bottom edge of the image (%d)',0
		align 4
aYouHaveSpeci_1	db 'You have specified a top edge (%d) that is below the',0Ah
					; DATA XREF: sub_401050+DAEo
		db 'bottom edge of the image (%d)',0
		align 4
aYouHaveSpeci_2	db 'You have specified a left edge (%d) that is to the right',0Ah
					; DATA XREF: sub_401050+DCBo
		db 'of the right edge you specified (%d)',0
		align 4
aYouHaveSpeci_3	db 'You have specified a right edge (%d) that is beyond',0Ah
					; DATA XREF: sub_401050+DE4o
		db 'the right edge of the image (%d)',0
		align 4
aYouHaveSpeci_4	db 'You have specified a left edge (%d) that is beyond',0Ah
					; DATA XREF: sub_401050+DFDo
		db 'the right edge of the image (%d)',0
aWidthMayNotBeN	db '-width may not be negative.',0 ; DATA XREF: sub_401050+ED2o
aHeightMayNotBe	db '-height may not be negative.',0 ; DATA XREF: sub_401050+EE9o
		align 4
aYouHaveSpeci_5	db 'You have specified a top edge (%d) that is above the top edg'
					; DATA XREF: sub_401050+F26o
		db 'e of the image (0)',0
		align 4
aYouHaveSpeci_6	db 'You have specified a right edge (%d) that is beyond',0Ah
					; DATA XREF: sub_401050+F45o
		db 'the left edge of the image (0)',0
		align 4
aYouHaveSpeci_7	db 'You have specified a left edge (%d) that is beyond',0Ah
					; DATA XREF: sub_401050+F5Ao
		db 'the left edge of the image (0)',0
		align 4
aYouHaveSpeci_8	db 'You have specified a bottom edge (%d) that is above the',0Ah
					; DATA XREF: sub_401050+F6Bo
		db 'top edge of the image (0)',0
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
unk_4035C0	db    0	;		; DATA XREF: sub_402280+8o
					; sub_402280+18o
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
_rdata		ends

; Section 3. (virtual address 00004000)
; Virtual size			: 00000040 (	 64.)
; Section size in file		: 00000000 (	  0.)
; Offset to raw	data for section: 00000000
; Flags	C0000080: Bss Readable Writable
; Alignment	: 16 bytes ?
; ÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ

; Segment type:	Uninitialized
; Segment permissions: Read/Write
_bss		segment	para public 'BSS' use32
		assume cs:_bss
		;org 404000h
		assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing
dword_404000	dd ?			; DATA XREF: start+9r sub_402110+D2o
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
unk_404010	db    ?	;		; DATA XREF: sub_402110+8Do
		db    ?	;
		db    ?	;
		db    ?	;
unk_404014	db    ?	;		; DATA XREF: sub_402110+4Co
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
_bss		ends

;
; Imports from cygwin1
;
; Section 4. (virtual address 00005000)
; Virtual size			: 000003C8 (	968.)
; Section size in file		: 00000400 (   1024.)
; Offset to raw	data for section: 00002000
; Flags	C0000040: Data Readable	Writable
; Alignment	: 16 bytes ?
; ÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ

; Segment type:	Externs
; _idata
		extrn __imp___getreent:dword ; DATA XREF: __getreentr
		extrn __imp___main:dword ; DATA	XREF: __mainr
		extrn _impure_ptr:dword	; DATA XREF: sub_402110+59r
					; sub_402110+F7r
; void _imp_abort(void)
		extrn __imp_abort:dword	; DATA XREF: abortr
; void *__cdecl	calloc(size_t,size_t)
		extrn calloc:dword	; DATA XREF: .text:004022B0r
		extrn __imp_cygwin_internal:dword ; DATA XREF: cygwin_internalr
; dll_crt0(per_process *)
		extrn dll_crt0__FP11per_process:dword ;	DATA XREF: sub_402040+2Br
					; .text:00402240r
; void __cdecl _imp_free(void *)
		extrn __imp_free:dword	; DATA XREF: freer
; void *__cdecl	_imp_malloc(size_t)
		extrn __imp_malloc:dword ; DATA	XREF: mallocr
; void *__cdecl	_imp_memcpy(void *,const void *,size_t)
		extrn __imp_memcpy:dword ; DATA	XREF: memcpyr
; void *__cdecl	realloc(void *,size_t)
		extrn realloc:dword	; DATA XREF: .text:004022C0r
		extrn __imp_sscanf:dword ; DATA	XREF: sscanfr


;
; Imports from KERNEL32
;
; HMODULE __stdcall __imp_GetModuleHandleA(LPCSTR lpModuleName)
		extrn __imp_GetModuleHandleA:dword ; DATA XREF:	GetModuleHandleAr


;
; Imports from cygnetpbm-10
;
		extrn __imp_optParseOptions3:dword ; DATA XREF:	optParseOptions3r
		extrn __imp_pm_close:dword ; DATA XREF:	pm_closer
		extrn __imp_pm_error:dword ; DATA XREF:	pm_errorr
		extrn __imp_pm_freerow:dword ; DATA XREF: pm_freerowr
		extrn __imp_pm_message:dword ; DATA XREF: pm_messager
		extrn __imp_pm_openr:dword ; DATA XREF:	pm_openrr
		extrn __imp_pnm_allocpamrow:dword ; DATA XREF: pnm_allocpamrowr
		extrn __imp_pnm_allocpamtuple:dword ; DATA XREF: pnm_allocpamtupler
		extrn __imp_pnm_createBlackTuple:dword ; DATA XREF: pnm_createBlackTupler
		extrn __imp_pnm_init:dword ; DATA XREF:	pnm_initr
		extrn __imp_pnm_readpaminit:dword ; DATA XREF: pnm_readpaminitr
		extrn __imp_pnm_readpamrow:dword ; DATA	XREF: pnm_readpamrowr
		extrn __imp_pnm_writepaminit:dword ; DATA XREF:	pnm_writepaminitr
		extrn __imp_pnm_writepamrow:dword ; DATA XREF: pnm_writepamrowr
		extrn __imp_pnm_writepamrowmult:dword ;	DATA XREF: pnm_writepamrowmultr



		end start
