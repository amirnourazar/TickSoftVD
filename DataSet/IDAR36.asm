

;
; ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
; º	This file is generated by The Interactive Disassembler (IDA)	    º
; º	Copyright (c) 2003 by DataRescue sa/nv,	<ida@datarescue.com>	    º
; º Licensed to: Mark Stamp, San Jose State University,	1 user,	academic, 11/2003 º
; ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼
;
; File Name   :	C:\Documents and Settings\Fiona\My Documents\CS	298_Metamorphic	virus\HMM\Cygwin\pamdice.exe
; Format      :	Portable executable for	IBM PC (PE)
; Imagebase   :	400000
; Section 1. (virtual address 00001000)
; Virtual size			: 00000F18 (   3864.)
; Section size in file		: 00001000 (   4096.)
; Offset to raw	data for section: 00000400
; Flags	60000020: Text Executable Readable
; Alignment	: 16 bytes ?


unicode		macro page,string,zero
		irpc c,<string>
		db '&c', page
		endm
		ifnb <zero>
		dw zero
		endif
endm

		model flat

; ÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 401000h
		assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

		public start
start		proc near

var_8		= dword	ptr -8
var_2		= word ptr -2

		push	ebp
		mov	ebp, esp
		sub	esp, 8
		and	esp, 0FFFFFFF0h
		mov	eax, ds:dword_403000
		test	eax, eax
		jz	short loc_401013
		int	3		; Trap to Debugger

loc_401013:				; CODE XREF: start+10j
		fnstcw	[ebp+var_2]
		movzx	eax, [ebp+var_2]
		and	eax, 0FFFFF0C0h
		mov	[ebp+var_2], ax
		movzx	eax, [ebp+var_2]
		or	eax, 33Fh
		mov	[ebp+var_2], ax
		fldcw	[ebp+var_2]
		mov	[esp+8+var_8], offset sub_401050
		call	sub_401B50
		leave
		retn
start		endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_401050	proc near		; DATA XREF: start+33o

var_5E8		= dword	ptr -5E8h
var_5E4		= dword	ptr -5E4h
var_5E0		= dword	ptr -5E0h
var_5DC		= dword	ptr -5DCh
var_5D8		= dword	ptr -5D8h
var_5D4		= dword	ptr -5D4h
var_5BC		= dword	ptr -5BCh
var_5B8		= dword	ptr -5B8h
var_5B4		= dword	ptr -5B4h
var_5B0		= dword	ptr -5B0h
var_5AC		= dword	ptr -5ACh
var_5A8		= dword	ptr -5A8h
var_5A4		= dword	ptr -5A4h
var_5A0		= dword	ptr -5A0h
var_59C		= dword	ptr -59Ch
var_598		= dword	ptr -598h
var_594		= dword	ptr -594h
var_590		= dword	ptr -590h
var_58C		= dword	ptr -58Ch
var_588		= dword	ptr -588h
var_584		= dword	ptr -584h
var_580		= dword	ptr -580h
var_57C		= dword	ptr -57Ch
var_578		= dword	ptr -578h
var_574		= dword	ptr -574h
var_570		= dword	ptr -570h
var_56C		= dword	ptr -56Ch
var_568		= dword	ptr -568h
var_564		= dword	ptr -564h
var_560		= dword	ptr -560h
var_55C		= dword	ptr -55Ch
var_558		= dword	ptr -558h
var_554		= dword	ptr -554h
var_550		= dword	ptr -550h
var_54C		= dword	ptr -54Ch
var_548		= dword	ptr -548h
var_53C		= dword	ptr -53Ch
var_534		= dword	ptr -534h
var_418		= dword	ptr -418h
var_404		= dword	ptr -404h
var_400		= dword	ptr -400h
var_2E8		= dword	ptr -2E8h
var_2E4		= dword	ptr -2E4h
var_2E0		= dword	ptr -2E0h
var_2DC		= dword	ptr -2DCh
var_2D8		= dword	ptr -2D8h
var_2D4		= dword	ptr -2D4h
var_2D0		= dword	ptr -2D0h
var_2CC		= dword	ptr -2CCh
var_2C8		= dword	ptr -2C8h
var_2B8		= dword	ptr -2B8h
var_2B4		= dword	ptr -2B4h
var_2B0		= dword	ptr -2B0h
var_29C		= dword	ptr -29Ch
var_184		= dword	ptr -184h
var_178		= dword	ptr -178h
var_164		= dword	ptr -164h
var_48		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	eax, 10h
		mov	ebp, esp
		push	edi
		push	esi
		push	ebx
		sub	esp, 5DCh
		xor	ebx, ebx
		mov	edi, [ebp+arg_4]
		and	esp, 0FFFFFFF0h
		call	sub_401B20
		call	__main
		mov	[esp+5E8h+var_5E4], edi
		lea	edx, [ebp+arg_0]
		mov	[esp+5E8h+var_5E8], edx
		call	pnm_init
		mov	[esp+5E8h+var_5E8], 960h
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_558], eax
		call	malloc
		test	eax, eax
		mov	edx, eax
		jz	loc_401B16
		mov	byte ptr [edx],	0
		lea	eax, [ebp+var_40]
		and	ebx, 0FFFFFF00h
		mov	[edx+10h], eax
		lea	esi, [ebp+var_38]
		mov	bh, 0
		mov	[edx+0Ch], esi
		lea	ecx, [ebp+var_3C]
		lea	eax, [ebp+var_34]
		mov	[edx+28h], ecx
		lea	esi, [ebp+var_54C]
		lea	ecx, [ebp+var_30]
		mov	[edx+24h], eax
		lea	eax, [ebp+var_550]
		mov	[edx+40h], esi
		lea	esi, [ebp+var_2C]
		mov	[edx+3Ch], ecx
		lea	ecx, [ebp+var_554]
		mov	[edx+58h], eax
		lea	eax, [ebp+var_44]
		mov	[edx+54h], esi
		lea	esi, [ebp+var_28]
		mov	[edx+70h], ecx
		mov	ecx, 1
		mov	[edx+6Ch], eax
		xor	eax, eax
		mov	[edx+88h], esi
		xor	esi, esi
		mov	dword ptr [edx+4], offset aWidth ; "width"
		mov	dword ptr [edx+8], 4
		mov	dword ptr [edx+14h], 0
		mov	byte ptr [edx+18h], 0
		mov	dword ptr [edx+1Ch], offset aHeight ; "height"
		mov	dword ptr [edx+20h], 4
		mov	dword ptr [edx+2Ch], 0
		mov	byte ptr [edx+30h], 0
		mov	dword ptr [edx+34h], offset aHoverlap ;	"hoverlap"
		mov	dword ptr [edx+38h], 4
		mov	dword ptr [edx+44h], 0
		mov	byte ptr [edx+48h], 0
		mov	dword ptr [edx+4Ch], offset aVoverlap ;	"voverlap"
		mov	dword ptr [edx+50h], 4
		mov	dword ptr [edx+5Ch], 0
		mov	byte ptr [edx+60h], 0
		mov	dword ptr [edx+64h], offset aOutstem ; "outstem"
		mov	dword ptr [edx+68h], 2
		mov	dword ptr [edx+74h], 0
		mov	byte ptr [edx+78h], 0
		mov	dword ptr [edx+7Ch], offset aVerbose ; "verbose"
		mov	[edx+80h], ecx
		xor	ecx, ecx
		mov	[edx+84h], eax
		xor	eax, eax
		mov	[edx+8Ch], esi
		mov	esi, edx
		mov	[edx+98h], ecx
		mov	edx, 8
		mov	[esp+5E8h+var_5E0], ebx
		lea	ebx, [ebp+var_558]
		mov	[esp+5E8h+var_5D4], eax
		mov	[esp+5E8h+var_5D8], edx
		mov	[esp+5E8h+var_5DC], esi
		mov	[esp+5E8h+var_5E4], edi
		mov	[esp+5E8h+var_5E8], ebx
		call	optParseOptions3
		mov	ecx, [ebp+var_40]
		test	ecx, ecx
		jz	short loc_401202
		mov	ebx, [ebp+var_54C]
		test	ebx, ebx
		jz	loc_40182F
		mov	ecx, [ebp+var_38]
		mov	edx, [ebp+var_30]
		lea	esi, [ecx-1]
		cmp	edx, esi
		jbe	short loc_401202
		mov	[esp+5E8h+var_5E0], edx
		mov	[esp+5E8h+var_5E4], ecx
		mov	[esp+5E8h+var_5E8], offset aHoverlapValueM ; "-hoverlap	value must be less than	-widt"...
		call	pm_error

loc_401202:				; CODE XREF: sub_401050+181j
					; sub_401050+19Cj ...
		mov	edx, [ebp+var_3C]
		test	edx, edx
		jz	short loc_401238
		mov	ecx, [ebp+var_550]
		test	ecx, ecx
		jz	loc_401823
		mov	ecx, [ebp+var_34]
		mov	edx, [ebp+var_2C]
		lea	eax, [ecx-1]
		cmp	edx, eax
		jbe	short loc_401238
		mov	[esp+5E8h+var_5E0], edx
		mov	[esp+5E8h+var_5E4], ecx
		mov	[esp+5E8h+var_5E8], offset aVoverlapValueM ; "-voverlap	value must be less than	-heig"...
		call	pm_error

loc_401238:				; CODE XREF: sub_401050+1B7j
					; sub_401050+1D2j ...
		mov	ebx, [ebp+var_554]
		test	ebx, ebx
		jnz	short loc_40124E
		mov	[esp+5E8h+var_5E8], offset aYouMustSpecify ; "You must specify the -outstem option to"...
		call	pm_error

loc_40124E:				; CODE XREF: sub_401050+1F0j
		mov	eax, [ebp+var_558]
		lea	edx, [eax-1]
		test	edx, edx
		jle	loc_401B0A
		cmp	eax, 2
		jnz	loc_4019D3
		mov	esi, [edi+4]
		mov	[ebp+var_48], esi

loc_40126E:				; CODE XREF: sub_401050+993j
					; sub_401050+AC1j
		mov	eax, [ebp+var_48]
		mov	ebx, 128h
		mov	[esp+5E8h+var_5E8], eax
		call	pm_openr
		mov	[ebp+var_580], eax
		lea	ecx, [ebp+var_178]
		mov	[esp+5E8h+var_5E0], ebx
		mov	[esp+5E8h+var_5E4], ecx
		mov	[esp+5E8h+var_5E8], eax
		call	pnm_readpaminit
		mov	edx, [ebp+var_48]
		mov	edi, [ebp+var_44]
		mov	esi, [ebp+var_40]
		mov	[ebp+var_2E8], edx
		mov	ebx, [ebp+var_3C]
		mov	eax, [ebp+var_38]
		mov	[ebp+var_2E4], edi
		mov	ecx, [ebp+var_34]
		mov	edx, [ebp+var_30]
		mov	[ebp+var_2E0], esi
		mov	edi, [ebp+var_2C]
		mov	esi, [ebp+var_28]
		mov	[ebp+var_2DC], ebx
		mov	ebx, 12Ch
		mov	[ebp+var_2D8], eax
		lea	eax, [ebp+var_178]
		mov	[ebp+var_2D4], ecx
		lea	ecx, [ebp+var_418]
		mov	[ebp+var_2D0], edx
		mov	[ebp+var_2CC], edi
		mov	[ebp+var_2C8], esi
		mov	[esp+5E8h+var_5E0], ebx
		mov	[esp+5E8h+var_5E4], eax
		mov	[esp+5E8h+var_5E8], ecx
		call	memcpy
		xor	edx, edx
		cmp	[ebp+var_28], 0
		mov	edi, [ebp+var_2DC]
		setnz	dl
		mov	[ebp+var_588], edx
		test	edi, edi
		jz	loc_4019AB
		mov	ebx, [ebp+var_2D4]
		mov	esi, [ebp+var_404]
		cmp	ebx, esi
		jb	loc_401AAC
		mov	edi, 1
		mov	[ebp+var_55C], edi
		mov	edi, [ebp+var_2CC]

loc_40134E:				; CODE XREF: sub_401050+A86j
		mov	[ebp+var_560], ebx

loc_401354:				; CODE XREF: sub_401050+97Ej
		mov	edx, [ebp+var_55C]
		sub	ebx, edi
		mov	ecx, edx
		mov	[ebp+var_5B4], edx
		dec	ecx
		imul	ecx, ebx
		mov	ebx, [ebp+var_2E0]
		sub	esi, ecx
		test	ebx, ebx
		mov	[ebp+var_564], esi
		jz	loc_4019E8
		mov	ebx, [ebp+var_2D8]
		mov	edi, [ebp+var_400]
		cmp	ebx, edi
		jb	loc_401ADB
		mov	esi, [ebp+var_2D0]
		mov	eax, 1
		mov	[ebp+var_568], eax

loc_4013A3:				; CODE XREF: sub_401050+AB5j
		mov	[ebp+var_56C], ebx
		mov	ecx, ebx

loc_4013AB:				; CODE XREF: sub_401050+9BDj
		mov	edx, [ebp+var_568]
		sub	ebx, esi
		mov	esi, [ebp+var_588]
		lea	eax, [edx-1]
		imul	eax, ebx
		sub	edi, eax
		mov	[ebp+var_570], edi
		test	esi, esi
		jnz	loc_401A12

loc_4013CF:				; CODE XREF: sub_401050+A1Bj
					; sub_401050+A31j
		mov	esi, [ebp+var_568]
		test	esi, esi
		jz	loc_401A86
		xor	ebx, ebx
		cmp	esi, 0DA740Dh
		jbe	loc_401AA1

loc_4013EB:				; CODE XREF: sub_401050+A4Cj
		mov	[esp+5E8h+var_5E4], esi
		mov	[esp+5E8h+var_5E8], offset aUnableToAlloca ; "Unable to	allocate array for %u output "...
		call	pm_error

loc_4013FB:				; CODE XREF: sub_401050+A46j
		cmp	[ebp+var_55C], 1
		mov	[ebp+var_574], ebx
		mov	esi, 1
		jbe	short loc_401413
		mov	esi, [ebp+var_2C]
		inc	esi

loc_401413:				; CODE XREF: sub_401050+3BDj
		lea	edi, [ebp+var_2B8]
		mov	ebx, 12Ch
		add	edi, 8
		mov	[esp+5E8h+var_5E0], ebx
		lea	eax, [ebp+var_178]
		lea	ebx, [ebp+var_418]
		mov	[esp+5E8h+var_5E4], eax
		mov	[esp+5E8h+var_5E8], edi
		call	memcpy
		mov	[esp+5E8h+var_5E8], ebx
		mov	edx, 12Ch
		lea	ecx, [ebp+var_178]
		mov	[esp+5E8h+var_5E0], edx
		xor	ebx, ebx
		mov	[esp+5E8h+var_5E4], ecx
		mov	[ebp+var_2B8], esi
		call	memcpy
		mov	[ebp+var_404], esi
		lea	eax, [ebp+var_418]
		mov	[esp+5E8h+var_5E8], eax
		call	pnm_allocpamarray
		mov	[ebp+var_184], eax
		xor	edx, edx
		cmp	ebx, esi
		mov	[ebp+var_2B4], edx
		jnb	short loc_4014B4
		mov	ecx, [ebp+var_164]
		test	ecx, ecx
		jnz	short loc_4014A0
		jmp	short loc_4014B4
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401492:				; CODE XREF: sub_401050+462j
		cmp	[ebp+var_164], ebx
		jbe	short loc_4014B4
		mov	eax, [ebp+var_184]

loc_4014A0:				; CODE XREF: sub_401050+43Ej
		mov	edx, [eax+ebx*4]
		inc	ebx
		mov	[esp+5E8h+var_5E8], edi
		mov	[esp+5E8h+var_5E4], edx
		call	pnm_readpamrow
		cmp	ebx, esi
		jb	short loc_401492

loc_4014B4:				; CODE XREF: sub_401050+434j
					; sub_401050+440j ...
		xor	esi, esi
		mov	eax, [ebp+var_55C]
		mov	[ebp+var_584], esi
		cmp	[ebp+var_584], eax
		jnb	loc_401905
		lea	edi, [ebp+var_2B0]
		mov	[ebp+var_5B8], edi

loc_4014DA:				; CODE XREF: sub_401050+8AFj
		mov	edx, [ebp+var_560]
		dec	eax
		mov	esi, [ebp+var_2C]
		mov	ebx, [ebp+var_584]
		mov	ecx, edx
		sub	ecx, esi
		mov	[ebp+var_590], edx
		imul	ecx, ebx
		cmp	eax, [ebp+var_584]
		mov	[ebp+var_58C], ecx
		ja	short loc_401511
		mov	eax, [ebp+var_564]
		mov	[ebp+var_590], eax

loc_401511:				; CODE XREF: sub_401050+4B3j
		lea	ecx, [ebp+var_178]
		mov	esi, 12Ch
		lea	edi, [ebp+var_548]
		mov	[esp+5E8h+var_5E0], esi
		mov	[esp+5E8h+var_5E4], ecx
		mov	[esp+5E8h+var_5E8], edi
		call	memcpy
		mov	ecx, [ebp+var_44]
		mov	edx, [ebp+var_55C]
		mov	ebx, [ebp+var_568]
		mov	[ebp+var_5A8], ecx
		mov	ecx, [ebp+var_53C]
		mov	esi, [ebp+var_570]
		mov	[ebp+var_598], edx
		mov	eax, [ebp+var_56C]
		cmp	ecx, 5033h
		mov	[ebp+var_59C], ebx
		setnz	bl
		xor	edx, edx
		mov	[ebp+var_5A4], esi
		cmp	ecx, 5036h
		mov	edi, [ebp+var_574]
		mov	[ebp+var_5A0], eax
		setnz	dl
		mov	esi, offset aPpm ; "ppm"
		test	ebx, edx
		jz	short loc_4015D3
		cmp	ecx, 5032h
		mov	esi, offset aPgm ; "pgm"
		setnz	al
		xor	ebx, ebx
		cmp	ecx, 5035h
		setnz	bl
		test	eax, ebx
		jz	short loc_4015D3
		cmp	ecx, 5031h
		mov	esi, offset aPbm ; "pbm"
		setz	al
		cmp	ecx, 5034h
		setz	dl
		or	eax, edx
		test	al, 1
		jnz	short loc_4015D3
		mov	esi, offset unk_40214F

loc_4015D3:				; CODE XREF: sub_401050+542j
					; sub_401050+55Fj ...
		mov	edx, [ebp+var_59C]
		xor	ebx, ebx
		test	edx, edx
		jz	short loc_4015F0
		mov	ecx, 0CCCCCCCDh

loc_4015E4:				; CODE XREF: sub_401050+59Ej
		mov	eax, edx
		inc	ebx
		mul	ecx
		shr	edx, 3
		test	edx, edx
		jnz	short loc_4015E4

loc_4015F0:				; CODE XREF: sub_401050+58Dj
		test	ebx, ebx
		jnz	short loc_4015F9
		mov	ebx, 1

loc_4015F9:				; CODE XREF: sub_401050+5A2j
		mov	edx, [ebp+var_598]
		xor	ecx, ecx
		mov	[ebp+var_5BC], ecx
		test	edx, edx
		jz	short loc_401621
		mov	ecx, 0CCCCCCCDh

loc_401610:				; CODE XREF: sub_401050+5CFj
		inc	[ebp+var_5BC]
		mov	eax, edx
		mul	ecx
		shr	edx, 3
		test	edx, edx
		jnz	short loc_401610

loc_401621:				; CODE XREF: sub_401050+5B9j
		mov	eax, [ebp+var_5BC]
		test	eax, eax
		jnz	short loc_401630
		mov	eax, 1

loc_401630:				; CODE XREF: sub_401050+5D9j
		mov	[esp+5E8h+var_5D8], ebx
		mov	ecx, [ebp+var_5A8]
		mov	edx, offset aS_0Uu_0Uu_S ; "%s_%%0%uu_%%0%uu.%s"
		mov	[esp+5E8h+var_5D4], esi
		lea	ebx, [ebp+var_578]
		mov	[esp+5E8h+var_5DC], eax
		mov	[esp+5E8h+var_5E0], ecx
		mov	[esp+5E8h+var_5E4], edx
		mov	[esp+5E8h+var_5E8], ebx
		call	asprintfN
		mov	esi, [ebp+var_578]
		test	esi, esi
		jz	loc_40199A

loc_40166B:				; CODE XREF: sub_401050+956j
		xor	esi, esi
		cmp	esi, [ebp+var_59C]
		jnb	loc_40174D
		xor	ebx, ebx
		jmp	short loc_40169C
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_40167D:				; CODE XREF: sub_401050+67Aj
		mov	[esp+5E8h+var_5E8], offset aUnableToAllo_0 ; "Unable to	allocate memory	for output fi"...
		inc	esi
		call	pm_error
		add	ebx, 12Ch
		cmp	esi, [ebp+var_59C]
		jnb	loc_40174D

loc_40169C:				; CODE XREF: sub_401050+62Bj
					; sub_401050+6F7j
		mov	[esp+5E8h+var_5DC], esi
		mov	eax, [ebp+var_584]
		lea	edx, [ebp+var_57C]
		mov	[esp+5E8h+var_5E8], edx
		mov	ecx, [ebp+var_578]
		mov	[esp+5E8h+var_5E0], eax
		mov	[esp+5E8h+var_5E4], ecx
		call	asprintfN
		mov	eax, [ebp+var_57C]
		test	eax, eax
		jz	short loc_40167D
		lea	ecx, [ebp+var_548]
		mov	edx, 12Ch
		lea	eax, [ebx+edi]
		mov	[esp+5E8h+var_5E4], ecx
		mov	[esp+5E8h+var_5E0], edx
		mov	[esp+5E8h+var_5E8], eax
		call	memcpy
		mov	edx, [ebp+var_57C]
		mov	[esp+5E8h+var_5E8], edx
		call	pm_openw
		mov	[ebx+edi+8], eax
		mov	ecx, [ebp+var_59C]
		mov	edx, [ebp+var_5A0]
		dec	ecx
		cmp	ecx, esi
		ja	short loc_401713
		mov	edx, [ebp+var_5A4]

loc_401713:				; CODE XREF: sub_401050+6BBj
		mov	[ebx+edi+18h], edx
		mov	edx, [ebp+var_590]
		lea	ecx, [ebx+edi]
		inc	esi
		mov	[ebx+edi+14h], edx
		add	ebx, 12Ch
		mov	[esp+5E8h+var_5E8], ecx
		call	pnm_writepaminit
		mov	eax, [ebp+var_57C]
		mov	[esp+5E8h+var_5E8], eax
		call	strfree
		cmp	esi, [ebp+var_59C]
		jb	loc_40169C

loc_40174D:				; CODE XREF: sub_401050+623j
					; sub_401050+646j
		mov	ebx, [ebp+var_578]
		xor	esi, esi
		mov	[esp+5E8h+var_5E8], ebx
		call	strfree
		mov	[ebp+var_594], esi
		mov	edi, [ebp+var_590]
		cmp	[ebp+var_594], edi
		jnb	loc_4018C5

loc_401775:				; CODE XREF: sub_401050+86Fj
		mov	ecx, [ebp+var_58C]
		mov	eax, [ebp+var_594]
		add	ecx, eax
		cmp	[ebp+var_2B4], ecx
		mov	[ebp+var_5AC], ecx
		ja	loc_401985

loc_401795:				; CODE XREF: sub_401050+945j
		mov	eax, [ebp+var_5AC]
		cmp	[ebp+var_29C], eax
		jbe	loc_401970

loc_4017A7:				; CODE XREF: sub_401050+930j
		mov	ecx, [ebp+var_2B8]
		mov	edx, [ebp+var_2B4]
		add	ecx, edx
		cmp	ecx, [ebp+var_5AC]
		ja	loc_401840
		mov	ebx, [ebp+var_2B8]
		mov	esi, [ebp+var_2B4]
		lea	esi, [esi+0]

loc_4017D0:				; CODE XREF: sub_401050+7CFj
		mov	ecx, [ebp+var_184]
		dec	ebx
		xor	edx, edx
		cmp	ebx, 0
		mov	edi, [ecx]
		jmp	short loc_4017EA
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_4017E0:				; CODE XREF: sub_401050+79Aj
		mov	eax, [ecx+edx*4+4]
		mov	[ecx+edx*4], eax
		inc	edx
		cmp	ebx, edx

loc_4017EA:				; CODE XREF: sub_401050+78Ej
		ja	short loc_4017E0
		mov	[ecx+edx*4], edi
		lea	ebx, [esi+1]
		mov	esi, [ebp+var_5B8]
		mov	[ebp+var_2B4], ebx
		mov	[esp+5E8h+var_5E4], edi
		mov	[esp+5E8h+var_5E8], esi
		call	pnm_readpamrow
		mov	esi, [ebp+var_2B4]
		mov	ebx, [ebp+var_2B8]
		lea	edi, [esi+ebx]
		cmp	edi, [ebp+var_5AC]
		jbe	short loc_4017D0
		jmp	short loc_401846
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401823:				; CODE XREF: sub_401050+1C1j
		mov	[ebp+var_2C], 0
		jmp	loc_401238
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_40182F:				; CODE XREF: sub_401050+18Bj
		mov	[ebp+var_30], 0
		jmp	loc_401202
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 8

loc_401840:				; CODE XREF: sub_401050+76Bj
		mov	esi, [ebp+var_2B4]

loc_401846:				; CODE XREF: sub_401050+7D1j
		sub	[ebp+var_5AC], esi
		mov	eax, [ebp+var_568]
		mov	edx, [ebp+var_184]
		mov	ecx, [ebp+var_5AC]
		mov	esi, [ebp+var_574]
		cmp	eax, 1
		mov	ebx, [edx+ecx*4]
		mov	ecx, [ebp+var_30]
		mov	edx, [esi+18h]
		jbe	short loc_401874
		sub	edx, ecx

loc_401874:				; CODE XREF: sub_401050+820j
		test	eax, eax
		mov	edi, ebx
		jz	short loc_4018AD
		shl	edx, 2
		mov	ebx, eax
		mov	[ebp+var_5B0], edx
		lea	esi, [esi+0]
		lea	edi, [edi+0]

loc_401890:				; CODE XREF: sub_401050+85Bj
		mov	[esp+5E8h+var_5E4], edi
		mov	[esp+5E8h+var_5E8], esi
		add	esi, 12Ch
		call	pnm_writepamrow
		mov	eax, [ebp+var_5B0]
		add	edi, eax
		dec	ebx
		jnz	short loc_401890

loc_4018AD:				; CODE XREF: sub_401050+828j
		inc	[ebp+var_594]
		mov	edi, [ebp+var_590]
		cmp	[ebp+var_594], edi
		jb	loc_401775

loc_4018C5:				; CODE XREF: sub_401050+71Fj
		mov	edx, [ebp+var_568]
		mov	eax, [ebp+var_574]
		test	edx, edx
		jz	short loc_4018ED
		lea	esi, [eax+8]
		mov	ebx, edx

loc_4018DA:				; CODE XREF: sub_401050+89Bj
		mov	edx, [esi]
		add	esi, 12Ch
		mov	[esp+5E8h+var_5E8], edx
		call	pm_close
		dec	ebx
		jnz	short loc_4018DA

loc_4018ED:				; CODE XREF: sub_401050+883j
		inc	[ebp+var_584]
		mov	eax, [ebp+var_55C]
		cmp	[ebp+var_584], eax
		jb	loc_4014DA

loc_401905:				; CODE XREF: sub_401050+478j
		lea	edx, [ebp+var_548]
		mov	ebx, 12Ch
		lea	esi, [ebp+var_2B0]
		mov	[esp+5E8h+var_5E8], edx
		mov	[esp+5E8h+var_5E0], ebx
		mov	[esp+5E8h+var_5E4], esi
		call	memcpy
		mov	ecx, [ebp+var_184]
		lea	eax, [ebp+var_548]
		mov	edi, [ebp+var_2B8]
		mov	[esp+5E8h+var_5E4], eax
		mov	[esp+5E8h+var_5E8], ecx
		mov	[ebp+var_534], edi
		call	pnm_freepamarray
		mov	ebx, [ebp+var_574]
		mov	[esp+5E8h+var_5E8], ebx
		call	free
		mov	esi, [ebp+var_580]
		mov	[esp+5E8h+var_5E8], esi
		call	pm_close
		lea	esp, [ebp+var_C]
		xor	eax, eax
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401970:				; CODE XREF: sub_401050+751j
		mov	[esp+5E8h+var_5E4], eax
		mov	[esp+5E8h+var_5E8], offset aInternalErrorA ; "INTERNAL ERROR: attempt to read beyond "...
		call	pm_error
		jmp	loc_4017A7
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401985:				; CODE XREF: sub_401050+73Fj
		mov	[esp+5E8h+var_5E4], ecx
		mov	[esp+5E8h+var_5E8], offset aInternalErro_0 ; "INTERNAL ERROR: attempt to back up too "...
		call	pm_error
		jmp	loc_401795
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_40199A:				; CODE XREF: sub_401050+615j
		mov	[esp+5E8h+var_5E8], offset aUnableToAllo_1 ; "Unable to	allocate memory	for filename "...
		call	pm_error
		jmp	loc_40166B
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_4019AB:				; CODE XREF: sub_401050+2D3j
		mov	esi, 1
		mov	ebx, [ebp+var_2D4]
		mov	edi, [ebp+var_2CC]
		mov	[ebp+var_55C], esi
		mov	esi, [ebp+var_404]
		mov	[ebp+var_560], esi
		jmp	loc_401354
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_4019D3:				; CODE XREF: sub_401050+212j
		mov	[esp+5E8h+var_5E4], edx
		mov	[esp+5E8h+var_5E8], offset aProgamTakesAtM ; "Progam takes at most 1 parameter:	the f"...
		call	pm_error
		jmp	loc_40126E
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_4019E8:				; CODE XREF: sub_401050+328j
		mov	ecx, [ebp+var_400]
		mov	edi, 1
		mov	ebx, [ebp+var_2D8]
		mov	[ebp+var_568], edi
		mov	esi, [ebp+var_2D0]
		mov	edi, ecx
		mov	[ebp+var_56C], ecx
		jmp	loc_4013AB
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401A12:				; CODE XREF: sub_401050+379j
		mov	[esp+5E8h+var_5E0], edx
		mov	ebx, [ebp+var_5B4]
		mov	edi, [ebp+var_560]
		mov	[esp+5E8h+var_5D8], ecx
		imul	edx, ebx
		mov	[esp+5E8h+var_5D4], edi
		mov	[esp+5E8h+var_5DC], ebx
		mov	[esp+5E8h+var_5E8], offset aCreatingUImage ; "Creating %u images, %u across by %u dow"...
		mov	[esp+5E8h+var_5E4], edx
		call	pm_message
		mov	eax, [ebp+var_570]
		cmp	eax, [ebp+var_56C]
		jz	short loc_401A5F
		mov	[esp+5E8h+var_5E4], eax
		mov	[esp+5E8h+var_5E8], offset aRightVerticalS ; "Right vertical slice is only %u wide"
		call	pm_message

loc_401A5F:				; CODE XREF: sub_401050+9FDj
		mov	eax, [ebp+var_564]
		cmp	eax, [ebp+var_560]
		jz	loc_4013CF
		mov	[esp+5E8h+var_5E4], eax
		mov	[esp+5E8h+var_5E8], offset aBottomHorizont ; "Bottom horizontal	slice is only %u high"...
		call	pm_message
		jmp	loc_4013CF
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401A86:				; CODE XREF: sub_401050+387j
		mov	[esp+5E8h+var_5E8], 1

loc_401A8D:				; CODE XREF: sub_401050+A5Aj
		call	malloc
		test	eax, eax
		mov	ebx, eax
		jnz	loc_4013FB
		jmp	loc_4013EB
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401AA1:				; CODE XREF: sub_401050+395j
		imul	ecx, esi, 12Ch
		mov	[esp+5E8h+var_5E8], ecx
		jmp	short loc_401A8D
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401AAC:				; CODE XREF: sub_401050+2E7j
		mov	edi, [ebp+var_2CC]
		mov	edx, esi
		mov	eax, ebx
		sub	edx, edi
		sub	eax, edi
		lea	ecx, [edx-1]
		mov	[ebp+var_5BC], eax
		xor	edx, edx
		mov	eax, ecx
		div	[ebp+var_5BC]
		lea	edx, [eax+1]
		mov	[ebp+var_55C], edx
		jmp	loc_40134E
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401ADB:				; CODE XREF: sub_401050+33Cj
		mov	esi, [ebp+var_2D0]
		mov	edx, edi
		mov	eax, ebx
		sub	edx, esi
		sub	eax, esi
		lea	ecx, [edx-1]
		mov	[ebp+var_5BC], eax
		xor	edx, edx
		mov	eax, ecx
		div	[ebp+var_5BC]
		lea	edx, [eax+1]
		mov	[ebp+var_568], edx
		jmp	loc_4013A3
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401B0A:				; CODE XREF: sub_401050+209j
		mov	[ebp+var_48], offset asc_402334	; "-"
		jmp	loc_40126E
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401B16:				; CODE XREF: sub_401050+4Bj
		call	abort
		nop
		nop
		nop
		nop
		nop
sub_401050	endp


; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ


sub_401B20	proc near		; CODE XREF: sub_401050+19p
		push	ecx
		mov	ecx, esp
		add	ecx, 8

loc_401B26:				; CODE XREF: sub_401B20+1Bj
		cmp	eax, 1000h
		jb	short loc_401B3D
		sub	ecx, 1000h
		or	dword ptr [ecx], 0
		sub	eax, 1000h
		jmp	short loc_401B26
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401B3D:				; CODE XREF: sub_401B20+Bj
		sub	ecx, eax
		or	dword ptr [ecx], 0
		mov	eax, esp
		mov	esp, ecx
		mov	ecx, [eax]
		mov	eax, [eax+4]
		jmp	eax
sub_401B20	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 4

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_401B50	proc near		; CODE XREF: start+3Ap

var_D8		= dword	ptr -0D8h
var_D4		= dword	ptr -0D4h
var_C2		= dword	ptr -0C2h
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		xor	eax, eax
		mov	ebp, esp
		sub	esp, 18h
		mov	[ebp+var_4], esi
		mov	esi, [ebp+arg_0]
		mov	[ebp+var_8], ebx
		mov	[esp+18h+var_14], eax
		mov	[esp+18h+var_18], esi
		call	sub_401C00
		sub	esp, 8
		test	eax, eax
		jz	short loc_401B81
		mov	[esp+18h+var_18], 0

loc_401B7B:				; CODE XREF: sub_401B50+56j
		call	ds:dll_crt0__FP11per_process ; dll_crt0(per_process *)

loc_401B81:				; CODE XREF: sub_401B50+22j
		sub	esp, 0C0h
		lea	ebx, [esp+0D8h+var_C2+1]
		and	ebx, 0FFFFFFF0h
		mov	dword ptr [ebx], 0
		mov	[esp+0D8h+var_D4], ebx
		mov	[esp+0D8h+var_D8], esi
		call	sub_401C00
		sub	esp, 8
		mov	[esp+0D8h+var_D8], ebx
		jmp	short loc_401B7B
sub_401B50	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION __main. PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION memcpy. PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION free. PRESS KEYPAD "+" TO	EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION abort. PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION malloc. PRESS KEYPAD "+" TO EXPAND]
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_401C00	proc near		; CODE XREF: sub_401B50+18p
					; sub_401B50+4Bp

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		xor	eax, eax
		mov	ebp, esp
		push	ebx
		sub	esp, 4		; lpModuleName
		mov	ebx, [ebp+arg_4]
		test	ebx, ebx
		jz	loc_401D03

loc_401C14:				; CODE XREF: sub_401C00+11Fj
		mov	dword ptr [ebx+4], 0A8h
		xor	ecx, ecx
		mov	edx, 84h
		mov	dword ptr [ebx+8], 3EDh
		test	eax, eax
		mov	dword ptr [ebx+0Ch], 12h
		mov	[ebx+80h], ecx
		mov	[ebx+84h], edx
		mov	dword ptr [ebx+2Ch], offset dword_401F08
		mov	dword ptr [ebx+30h], offset dword_401F10
		mov	dword ptr [ebx+14h], offset unk_403014
		jnz	loc_401CF1
		mov	eax, ds:_impure_ptr
		mov	[ebx+10h], eax

loc_401C61:				; CODE XREF: sub_401C00+FEj
		mov	dword ptr [ebx+78h], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [ebx+48h], offset sub_401DF0
		mov	dword ptr [ebx+4Ch], offset sub_401DE0
		mov	[ebx+28h], eax
		mov	eax, [ebp+0]
		mov	dword ptr [ebx+50h], offset sub_401DD0
		mov	dword ptr [ebx+54h], offset sub_401DC0
		mov	dword ptr [ebx+24h], offset unk_403010
		mov	[ebx], eax
		mov	dword ptr [ebx+18h], offset malloc
		mov	dword ptr [ebx+1Ch], offset free
		mov	dword ptr [ebx+20h], offset loc_401DB0
		mov	dword ptr [ebx+44h], offset loc_401DA0
		mov	[esp+8+var_8], 0
		call	GetModuleHandleA
		mov	[ebx+7Ch], eax
		sub	esp, 4
		mov	dword ptr [ebx+34h], offset aWidth ; "width"
		mov	dword ptr [ebx+38h], offset aWidth ; "width"
		mov	dword ptr [ebx+3Ch], offset dword_403000
		mov	dword ptr [ebx+40h], 403040h
		call	sub_401D70
		mov	eax, 1

loc_401CEA:				; CODE XREF: sub_401C00+116j
		mov	ebx, [ebp+var_4]
		leave
		retn	8
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401CF1:				; CODE XREF: sub_401C00+53j
		mov	edx, [ebx+0A4h]
		mov	eax, ds:_impure_ptr
		mov	[eax], edx
		jmp	loc_401C61
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401D03:				; CODE XREF: sub_401C00+Ej
		mov	[esp+8+var_8], 8
		call	cygwin_internal
		mov	edx, eax
		xor	eax, eax
		cmp	edx, 0FFFFFFFFh
		jz	short loc_401CEA
		mov	ebx, edx
		mov	eax, 1
		jmp	loc_401C14
sub_401C00	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h
		jmp	ds:dll_crt0__FP11per_process ; dll_crt0(per_process *)
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_401D40	proc near		; CODE XREF: sub_401D70+1Fp

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		mov	ecx, [ebp+arg_0]
		push	esi
		mov	esi, [ebp+arg_8]
		push	ebx
		mov	ebx, [ebp+arg_4]
		jmp	short loc_401D5C
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

loc_401D50:				; CODE XREF: sub_401D40+1Ej
		mov	edx, [ecx+4]
		mov	eax, [ecx]
		add	ecx, 8
		add	edx, esi
		add	[edx], eax

loc_401D5C:				; CODE XREF: sub_401D40+Ej
		cmp	ecx, ebx
		jb	short loc_401D50
		pop	ebx
		pop	esi
		pop	ebp
		retn
sub_401D40	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_401D70	proc near		; CODE XREF: sub_401C00+E0p

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4

		push	ebp
		mov	edx, 400000h
		mov	ebp, esp
		mov	eax, offset unk_402340
		sub	esp, 0Ch
		mov	[esp+0Ch+var_4], edx
		mov	[esp+0Ch+var_8], eax
		mov	[esp+0Ch+var_C], offset	unk_402340
		call	sub_401D40
		leave
		retn
sub_401D70	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

loc_401DA0:				; DATA XREF: sub_401C00+ABo
		jmp	ds:calloc
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

loc_401DB0:				; DATA XREF: sub_401C00+A4o
		jmp	ds:realloc
; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_401DC0	proc near		; DATA XREF: sub_401C00+86o
		push	ebp
		mov	ebp, esp
		pop	ebp
		retn
sub_401DC0	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_401DD0	proc near		; DATA XREF: sub_401C00+7Fo
		push	ebp
		mov	ebp, esp
		pop	ebp
		retn
sub_401DD0	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_401DE0	proc near		; DATA XREF: sub_401C00+72o
		push	ebp
		mov	ebp, esp
		pop	ebp
		retn
sub_401DE0	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h

; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S U B	R O U T	I N E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ

; Attributes: bp-based frame

sub_401DF0	proc near		; DATA XREF: sub_401C00+6Bo
		push	ebp
		mov	ebp, esp
		pop	ebp
		retn
sub_401DF0	endp

; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION cygwin_internal. PRESS KEYPAD "+"	TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION GetModuleHandleA.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION asprintfN. PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION optParseOptions3.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pm_close.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pm_error.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pm_message. PRESS	KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pm_openr.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pm_openw.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_allocpamarray. PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_freepamarray.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_init.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_readpaminit. PRESS KEYPAD "+"	TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_readpamrow. PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_writepaminit.	PRESS KEYPAD "+" TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION pnm_writepamrow. PRESS KEYPAD "+"	TO EXPAND]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION strfree. PRESS KEYPAD "+"	TO EXPAND]
		align 4
dword_401F08	dd 0FFFFFFFFh, 0	; DATA XREF: sub_401C00+3Eo
dword_401F10	dd 0FFFFFFFFh, 3Bh dup(0) ; DATA XREF: sub_401C00+45o
_text		ends

; Section 2. (virtual address 00002000)
; Virtual size			: 00000340 (	832.)
; Section size in file		: 00000400 (   1024.)
; Offset to raw	data for section: 00001400
; Flags	40000040: Data Readable
; Alignment	: 16 bytes ?
; ÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	para public 'DATA' use32
		assume cs:_rdata
		;org 402000h
aWidth		db 'width',0            ; DATA XREF: sub_401050+B3o
					; sub_401C00+C4o ...
aHeight		db 'height',0           ; DATA XREF: sub_401050+CCo
aHoverlap	db 'hoverlap',0         ; DATA XREF: sub_401050+E5o
aVoverlap	db 'voverlap',0         ; DATA XREF: sub_401050+FEo
aOutstem	db 'outstem',0          ; DATA XREF: sub_401050+117o
aVerbose	db 'verbose',0          ; DATA XREF: sub_401050+130o
		align 4
aHoverlapValueM	db '-hoverlap value must be less than -width (%u).  You specifie'
					; DATA XREF: sub_401050+1A6o
		db 'd %u.',0
		align 4
aVoverlapValueM	db '-voverlap value must be less than -height (%u).  You specifi'
					; DATA XREF: sub_401050+1DCo
		db 'ed %u.',0
		align 4
aYouMustSpecify	db 'You must specify the -outstem option to indicate where to pu'
					; DATA XREF: sub_401050+1F2o
		db 't the output images.',0
		align 4
aUnableToAlloca	db 'Unable to allocate array for %u output pam structures.',0
					; DATA XREF: sub_401050+39Fo
aPpm		db 'ppm',0              ; DATA XREF: sub_401050+53Bo
aPgm		db 'pgm',0              ; DATA XREF: sub_401050+54Ao
aPbm		db 'pbm',0              ; DATA XREF: sub_401050+567o
unk_40214F	db    0	;		; DATA XREF: sub_401050+57Eo
aS_0Uu_0Uu_S	db '%s_%%0%uu_%%0%uu.%s',0 ; DATA XREF: sub_401050+5EAo
aUnableToAllo_0	db 'Unable to allocate memory for output filename',0
					; DATA XREF: sub_401050+62Do
		align 4
aInternalErrorA	db 'INTERNAL ERROR: attempt to read beyond bottom of input image'
					; DATA XREF: sub_401050+924o
		db ' (row %u)',0
		align 4
aInternalErro_0	db 'INTERNAL ERROR: attempt to back up too far with getInputRow('
					; DATA XREF: sub_401050+939o
		db ') (row %u)',0
		align 4
aUnableToAllo_1	db 'Unable to allocate memory for filename format string',0
					; DATA XREF: sub_401050+94Ao
		align 4
aProgamTakesAtM	db 'Progam takes at most 1 parameter: the file specification.  Y'
					; DATA XREF: sub_401050+987o
		db 'ou specified %d',0
aCreatingUImage	db 'Creating %u images, %u across by %u down; each %u w x %u h',0
					; DATA XREF: sub_401050+9E1o
		align 4
aRightVerticalS	db 'Right vertical slice is only %u wide',0 ; DATA XREF: sub_401050+A03o
		align 4
aBottomHorizont	db 'Bottom horizontal slice is only %u high',0 ; DATA XREF: sub_401050+A25o
asc_402334:				; DATA XREF: sub_401050+ABAo
		unicode	0, <->,0
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
unk_402340	db    0	;		; DATA XREF: sub_401D70+8o
					; sub_401D70+18o
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
		db    0	;
_rdata		ends

; Section 3. (virtual address 00003000)
; Virtual size			: 00000040 (	 64.)
; Section size in file		: 00000000 (	  0.)
; Offset to raw	data for section: 00000000
; Flags	C0000080: Bss Readable Writable
; Alignment	: 16 bytes ?
; ÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ

; Segment type:	Uninitialized
; Segment permissions: Read/Write
_bss		segment	para public 'BSS' use32
		assume cs:_bss
		;org 403000h
		assume es:nothing, ss:nothing, ds:nothing, fs:nothing, gs:nothing
dword_403000	dd ?			; DATA XREF: start+9r sub_401C00+D2o
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
unk_403010	db    ?	;		; DATA XREF: sub_401C00+8Do
		db    ?	;
		db    ?	;
		db    ?	;
unk_403014	db    ?	;		; DATA XREF: sub_401C00+4Co
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
_bss		ends

;
; Imports from cygwin1
;
; Section 4. (virtual address 00004000)
; Virtual size			: 00000378 (	888.)
; Section size in file		: 00000400 (   1024.)
; Offset to raw	data for section: 00001800
; Flags	C0000040: Data Readable	Writable
; Alignment	: 16 bytes ?
; ÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ

; Segment type:	Externs
; _idata
		extrn __imp___main:dword ; DATA	XREF: __mainr
		extrn _impure_ptr:dword	; DATA XREF: sub_401C00+59r
					; sub_401C00+F7r
; void _imp_abort(void)
		extrn __imp_abort:dword	; DATA XREF: abortr
; void *__cdecl	calloc(size_t,size_t)
		extrn calloc:dword	; DATA XREF: .text:00401DA0r
		extrn __imp_cygwin_internal:dword ; DATA XREF: cygwin_internalr
; dll_crt0(per_process *)
		extrn dll_crt0__FP11per_process:dword ;	DATA XREF: sub_401B50+2Br
					; .text:00401D30r
; void __cdecl _imp_free(void *)
		extrn __imp_free:dword	; DATA XREF: freer
; void *__cdecl	_imp_malloc(size_t)
		extrn __imp_malloc:dword ; DATA	XREF: mallocr
; void *__cdecl	_imp_memcpy(void *,const void *,size_t)
		extrn __imp_memcpy:dword ; DATA	XREF: memcpyr
; void *__cdecl	realloc(void *,size_t)
		extrn realloc:dword	; DATA XREF: .text:00401DB0r


;
; Imports from KERNEL32
;
; HMODULE __stdcall __imp_GetModuleHandleA(LPCSTR lpModuleName)
		extrn __imp_GetModuleHandleA:dword ; DATA XREF:	GetModuleHandleAr


;
; Imports from cygnetpbm-10
;
		extrn __imp_asprintfN:dword ; DATA XREF: asprintfNr
		extrn __imp_optParseOptions3:dword ; DATA XREF:	optParseOptions3r
		extrn __imp_pm_close:dword ; DATA XREF:	pm_closer
		extrn __imp_pm_error:dword ; DATA XREF:	pm_errorr
		extrn __imp_pm_message:dword ; DATA XREF: pm_messager
		extrn __imp_pm_openr:dword ; DATA XREF:	pm_openrr
		extrn __imp_pm_openw:dword ; DATA XREF:	pm_openwr
		extrn __imp_pnm_allocpamarray:dword ; DATA XREF: pnm_allocpamarrayr
		extrn __imp_pnm_freepamarray:dword ; DATA XREF:	pnm_freepamarrayr
		extrn __imp_pnm_init:dword ; DATA XREF:	pnm_initr
		extrn __imp_pnm_readpaminit:dword ; DATA XREF: pnm_readpaminitr
		extrn __imp_pnm_readpamrow:dword ; DATA	XREF: pnm_readpamrowr
		extrn __imp_pnm_writepaminit:dword ; DATA XREF:	pnm_writepaminitr
		extrn __imp_pnm_writepamrow:dword ; DATA XREF: pnm_writepamrowr
		extrn __imp_strfree:dword ; DATA XREF: strfreer



		end start
